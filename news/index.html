<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • mizer</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://sizespectrum.org/mizer/reference/figures/logo.png"><meta property="og:image:alt" content="mizer: Multi-Species Size Spectrum Modelling in R"><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@mizer_model"><meta name="twitter:site" content="@mizer_model"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">mizer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">2.5.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/mizer.html">Get started</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://mizer.course.sizespectrum.org">Course</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/model_description.html">The General Mizer Size-spectrum Model</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Tutorials</h6>
    <a class="dropdown-item" href="../articles/single_species_size-spectrum_dynamics.html">Single-species size-spectrum dynamics</a>
    <a class="dropdown-item" href="../articles/community_model.html">The Community Model</a>
    <a class="dropdown-item" href="../articles/trait_model.html">The Trait-Based Model</a>
    <a class="dropdown-item" href="../articles/multispecies_model.html">The Multi Species Model</a>
    <a class="dropdown-item" href="../articles/running_a_simulation.html">Running a Simulation</a>
    <a class="dropdown-item" href="../articles/exploring_the_simulation_results.html">Exploring the Simulation Results</a>
    <a class="dropdown-item" href="../articles/a_multispecies_model_of_the_north_sea.html">A Multi-Species Model of the North Sea</a>
    <a class="dropdown-item" href="../articles/plotting.html">Using ggplot2 and plotly with mizer</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Publications</h6>
    <a class="dropdown-item" href="../articles/publications.html">Publications</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>For developers</h6>
    <a class="dropdown-item" href="../articles/developer_vignette.html">Developer Guide</a>
    <a class="dropdown-item" href="../articles/working_with_git.html">Working with git and GitHub</a>
    <a class="dropdown-item" href="../articles/developer_FAQ.html">Developer FAQ</a>
    <a class="dropdown-item" href="../articles/editing_website.html">Editing the Mizer Website</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://blog.mizer.sizespectrum.org">Blog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://twitter.com/mizer_model" aria-label="Twitter">
    <span class="fab fa fab fa-twitter fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sizespectrum/mizer/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/sizespectrum/mizer/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.5.0" id="mizer-250">mizer 2.5.0<a class="anchor" aria-label="anchor" href="#mizer-250"></a></h2><p class="text-muted">CRAN release: 2023-12-08</p>
<p>This release introduces a change that requires you to upgrade your old MizerParams and MizerSim objects with <code><a href="../reference/upgradeParams.html">upgradeParams()</a></code> or <code><a href="../reference/upgradeSim.html">upgradeSim()</a></code>.</p>
<div class="section level3">
<h3 id="external-encounter-rate-2-5-0">External encounter rate<a class="anchor" aria-label="anchor" href="#external-encounter-rate-2-5-0"></a></h3>
<p>Now the model can include an external encounter rate that represents the rate at which a predator encounters food that is not explicitly modelled. This encounter rate is set with <code><a href="../reference/setExtEncounter.html">setExtEncounter()</a></code> or <code>ext_encounter&lt;-()</code> and can be read with <code><a href="../reference/setExtEncounter.html">getExtEncounter()</a></code> or <code><a href="../reference/setExtEncounter.html">ext_encounter()</a></code>. So this is similar to how external mortality is handled.</p>
</div>
<div class="section level3">
<h3 id="given-versus-calculated-species-parameters-2-5-0">Given versus calculated species parameters<a class="anchor" aria-label="anchor" href="#given-versus-calculated-species-parameters-2-5-0"></a></h3>
<p>You can now use <code><a href="../reference/species_params.html">given_species_params()</a></code> to see the species parameter values that you have explicitly specified and <code><a href="../reference/species_params.html">calculated_species_params()</a></code> to see the species parameter values that mizer has calculated automatically or set to defaults. You can continue to use <code><a href="../reference/species_params.html">species_params()</a></code> to get all species parameters, irrespective of whether they were given or calculated.</p>
<p>You can still set parameter values with <code>species_params&lt;-()</code>, but you can also use the stronger <code>given_species_params&lt;-()</code> which not only sets the values you give but also triggers a re-calculation of the calculated species parameters. Using <code>given_species_params&lt;-()</code> is therefore usually the better option.</p>
</div>
<div class="section level3">
<h3 id="new-mizer-course-2-5-0">New mizer course<a class="anchor" aria-label="anchor" href="#new-mizer-course-2-5-0"></a></h3>
<p>There is now a three-part mizer course at <a href="https://mizer.course.sizespectrum.org" class="external-link uri">https://mizer.course.sizespectrum.org</a> with each part consisting of several tutorials, including code and exercises:</p>
<ul><li><p><strong>Part 1: Understand</strong><br>
You will gain an understanding of size spectra and their dynamics by exploring simple example systems hands-on with mizer.</p></li>
<li><p><strong>Part 2: Build</strong><br>
You will build your own multi-species mizer model for the Celtic sea, following our example. You can also create a model for your own area of interest.</p></li>
<li><p><strong>Part 3: Use</strong><br>
You will explore the effects of changes in fishing and changes in resource dynamics on the fish community and the fisheries yield. You will run your own model scenarios.</p></li>
</ul></div>
<div class="section level3">
<h3 id="other-improvements-2-5-0">Other improvements<a class="anchor" aria-label="anchor" href="#other-improvements-2-5-0"></a></h3>
<ul><li>Warnings are given if user gives irrelevant species parameter values.</li>
<li>Some messages have been converted to warnings and some to signals that are not shown as frequently.</li>
<li>Frequent warnings are avoided when length-based and weight-based parameters are both given and are inconsistent. <a href="https://github.com/sizespectrum/mizer/issues/277" class="external-link">#277</a></li>
<li>Documentation of <code>effort</code> argument in <code><a href="../reference/project.html">project()</a></code> is improved.</li>
<li>An error message is given if a predation kernel returns negative values or is everywhere zero. <a href="https://github.com/sizespectrum/mizer/issues/283" class="external-link">#283</a></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-5-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-5-0"></a></h3>
<ul><li>When the coefficient <code>h</code> of the maximum intake rate is not given, it is now again given a default value. <a href="https://github.com/sizespectrum/mizer/issues/282" class="external-link">#282</a></li>
<li>
<code><a href="../reference/matchGrowth.html">matchGrowth()</a></code> no longer gives an error when there is no <code>w_inf</code> column. <a href="https://github.com/sizespectrum/mizer/issues/279" class="external-link">#279</a></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.4.1" id="mizer-241">mizer 2.4.1<a class="anchor" aria-label="anchor" href="#mizer-241"></a></h2><p class="text-muted">CRAN release: 2023-04-26</p>
<p>This minor release was made necessary to keep mizer on CRAN after a unit test failed on macOS 13.3 with version 14.3 of the CLT toolchain.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.4.0" id="mizer-240">mizer 2.4.0<a class="anchor" aria-label="anchor" href="#mizer-240"></a></h2><p class="text-muted">CRAN release: 2022-12-23</p>
<p>This release introduces a change that requires you to upgrade your old MizerParams and MizerSim objects with <code><a href="../reference/upgradeParams.html">upgradeParams()</a></code> or <code><a href="../reference/upgradeSim.html">upgradeSim()</a></code>.</p>
<p>See <a href="https://blog.mizer.sizespectrum.org/posts/2022-12-23-mizer-240/" class="external-link">mizer 2.4.0 blog post</a></p>
<div class="section level3">
<h3 id="avoid-confusion-between-maximum-size-and-von-bertalanffy-asymptotic-size-2-4-0">Avoid confusion between maximum size and von Bertalanffy asymptotic size<a class="anchor" aria-label="anchor" href="#avoid-confusion-between-maximum-size-and-von-bertalanffy-asymptotic-size-2-4-0"></a></h3>
<p>For an explanation see blog post at <a href="https://blog.mizer.sizespectrum.org/posts/2022-11-30-dont-use-von-bertalanffy-growth-parameters/" class="external-link uri">https://blog.mizer.sizespectrum.org/posts/2022-11-30-dont-use-von-bertalanffy-growth-parameters/</a></p>
<p>The species parameter that specifies the size at which also the largest fish stop growing is renamed from <code>w_inf</code> to <code>w_max</code>. The parameter <code>w_inf</code> is now reserved for the von Bertalanffy asymptotic size parameter. If you upgrade your existing MizerParams object with <code><a href="../reference/upgradeParams.html">upgradeParams()</a></code> the <code>w_inf</code> column is copied over to the <code>w_max</code> column automatically, but you may want to change the values yourself if they do not currently reflect the maximum size of the species. Otherwise the size distributions predicted by mizer will not match observations.</p>
</div>
<div class="section level3">
<h3 id="set-resource-abundance-rather-than-carrying-capacity-2-4-0">Set resource abundance rather than carrying capacity<a class="anchor" aria-label="anchor" href="#set-resource-abundance-rather-than-carrying-capacity-2-4-0"></a></h3>
<p>The resource parameters <code>kappa</code> and <code>lambda</code> are now used to set the abundance of the resource in the steady state rather than the carrying capacity, because the latter is not observable.</p>
<p>While tuning the steady state using the <code><a href="../reference/steady.html">steady()</a></code> function the resource abundance is now being kept fixed at the chosen value. Then the resource dynamics can be switched on later with <code><a href="../reference/setResource.html">setResource()</a></code> without changing the steady state. At that stage you only choose either the resource intrinsic growth rate or the resource carrying capacity and the other is determined by <code><a href="../reference/setResource.html">setResource()</a></code> in such a way that the resource replenishes at the same rate at which it is consumed. If you want to keep the old behaviour and switch off this automatic balancing you have to add the <code>balance = FALSE</code> argument when calling <code><a href="../reference/setResource.html">setResource()</a></code>.</p>
<p>You can also choose between semichemostat dynamics <code><a href="../reference/resource_semichemostat.html">resource_semichemostat()</a></code> or logistic dynamics <code><a href="../reference/resource_logistic.html">resource_logistic()</a></code> or you can write your own function implementing more sophisticated resource dynamics.</p>
<p>The <code><a href="../reference/setParams.html">setParams()</a></code> function no longer includes the arguments for setting the resource parameters. Instead you set these separately with <code><a href="../reference/setResource.html">setResource()</a></code>.</p>
</div>
<div class="section level3">
<h3 id="automatically-match-growth-rates-2-4-0">Automatically match growth rates<a class="anchor" aria-label="anchor" href="#automatically-match-growth-rates-2-4-0"></a></h3>
<p>As explained in the blog post at <a href="https://blog.mizer.sizespectrum.org/posts/2022-11-30-dont-use-von-bertalanffy-growth-parameters/" class="external-link uri">https://blog.mizer.sizespectrum.org/posts/2022-11-30-dont-use-von-bertalanffy-growth-parameters/</a>, the von Bertalanffy curves fitted to size-at-age data are not suitable for estimating the size-dependent growth rates in mizer. It is therefore now recommended that instead of von Bertalanffy parameters you supply the age at maturity in the <code>age_mat</code> column of the species parameter data frame. This is then used by mizer to calculate a default for the maximum intake rate parameter <code>h</code> if you do not supply this.</p>
<p>In the past, whenever you changed any model parameters, you needed to re-tune other parameters to keep the growth rates in line with observations. There is now a new function <code><a href="../reference/matchGrowth.html">matchGrowth()</a></code> that automatically scales the search volume, the maximum consumption rate and the metabolic rate all by the same factor in order to achieve a growth rate that allows individuals to reach their maturity size by their maturity age while keeping the feeding level and the critical feeding level unchanged. This function does not however preserve the steady state, so you will need to also call <code><a href="../reference/steady.html">steady()</a></code> after matching the growth rates.</p>
</div>
<div class="section level3">
<h3 id="other-improvements-2-4-0">Other improvements<a class="anchor" aria-label="anchor" href="#other-improvements-2-4-0"></a></h3>
<ul><li>New function <code><a href="../reference/steadySingleSpecies.html">steadySingleSpecies()</a></code> that only balances the size-spectrum dynamics while ignoring multi-species effects. In other words, it calculates the steady-state size spectrum of each species as it would be if the abundance of prey and predators could be kept constant at their current values.</li>
<li>
<code><a href="../reference/plotGrowthCurves.html">plotGrowthCurves()</a></code> can now superimpose a scatterplot of size-at-age data if you supply this via the new <code>size_at_age</code> argument.</li>
<li>New functions <code><a href="../reference/calibrateNumber.html">calibrateNumber()</a></code> and <code><a href="../reference/matchNumbers.html">matchNumbers()</a></code> that are like <code><a href="../reference/calibrateBiomass.html">calibrateBiomass()</a></code> and <code><a href="../reference/matchBiomasses.html">matchBiomasses()</a></code> but work with observed numbers instead of observed biomasses.</li>
<li>New function <code><a href="../reference/age_mat.html">age_mat()</a></code> to calculate the age at maturity from the growth rate and the size at maturity.</li>
<li>If an effort vector or effort array contains NA’s, these are now replaced by the default effort value. <a href="https://github.com/sizespectrum/mizer/issues/230" class="external-link">#230</a></li>
<li>The entries of the interaction matrix and of interaction_resource are no longer restricted to be less or equal to 1. <a href="https://github.com/sizespectrum/mizer/issues/232" class="external-link">#232</a></li>
<li>If user supplies no row names in the interaction matrix but gives column names then the column names are also used as row names. <a href="https://github.com/sizespectrum/mizer/issues/247" class="external-link">#247</a></li>
<li>
<code><a href="../reference/project.html">project()</a></code> now also works when called with a MizerSim object with additional components.</li>
<li>
<code><a href="../reference/steady.html">steady()</a></code> now preserves the RDD function in the MizerParams object rather than always setting it to “BevertonHoltRDD”.</li>
<li>When averaging abundances over time in <code><a href="../reference/plotSpectra.html">plotSpectra()</a></code> or <code><a href="../reference/setInitialValues.html">setInitialValues()</a></code> the user can now choose geometric averaging with <code>geometric_mean = TRUE</code>.</li>
<li>The <code>w_mat25</code> species parameter is no longer filled in automatically if it is not supplied. This makes it easier to change <code>w_mat</code> without having to change <code>w_mat25</code> at the same time.</li>
<li>
<code><a href="../reference/compareParams.html">compareParams()</a></code> now also checks the validity of its second argument.</li>
<li>Hide the printing of messages about chosen defaults in <code><a href="../reference/newTraitParams.html">newTraitParams()</a></code>.</li>
<li>Higher values for the <code>info_level</code> argument in <code><a href="../reference/newMultispeciesParams.html">newMultispeciesParams()</a></code> now leads to more messages.</li>
<li>Giving more helpful messages in <code><a href="../reference/validSpeciesParams.html">validSpeciesParams()</a></code>. <a href="https://github.com/sizespectrum/mizer/issues/136" class="external-link">#136</a></li>
<li>New helper functions <code><a href="../reference/l2w.html">l2w()</a></code> and <code><a href="../reference/l2w.html">w2l()</a></code> for converting between length-based and weight-based species parameters. <a href="https://github.com/sizespectrum/mizer/issues/258" class="external-link">#258</a></li>
<li>Check that assessor functions for MizerSim slots are called with a MizerSim object.</li>
<li>Add <code>style</code> argument to <code><a href="../reference/plotDataFrame.html">plotDataFrame()</a></code> to facilitate producing area plots.</li>
<li>Add <code>wrap_scale</code> argument to <code><a href="../reference/plotDataFrame.html">plotDataFrame()</a></code> to control scaling of axes in faceted plots.</li>
<li>
<code><a href="../reference/plotDiet.html">plotDiet()</a></code> can now show diets of several predator species in a faceted plot. <a href="https://github.com/sizespectrum/mizer/issues/267" class="external-link">#267</a></li>
<li>Change from <code>size</code> to <code>linewidth</code> aesthetic to avoid warnings in new version of ggplot2.</li>
<li>Better error message when functions are called with no valid species selected. <a href="https://github.com/sizespectrum/mizer/issues/251" class="external-link">#251</a></li>
<li>If there are no differences then <code><a href="../reference/compareParams.html">compareParams()</a></code> says so clearly.</li>
<li>
<code><a href="../reference/getReproductionLevel.html">getReproductionLevel()</a></code> works as long as <code>R_max</code> is set. <a href="https://github.com/sizespectrum/mizer/issues/252" class="external-link">#252</a></li>
<li>Converted several unit tests to edition 3 of testthat package.</li>
<li>Improved documentation for <code><a href="../reference/gear_params.html">gear_params()</a></code>.</li>
<li>Improved defaults can now be implemented while keeping backwards compatibility via <code><a href="../reference/defaults_edition.html">defaults_edition()</a></code>. <a href="https://github.com/sizespectrum/mizer/issues/186" class="external-link">#186</a></li>
<li>New defaults edition 2: catchability = 0.3 instead of 1, initial effort = 1 instead of 0. <a href="https://github.com/sizespectrum/mizer/issues/243" class="external-link">#243</a></li>
<li>In defaults edition 2, <code><a href="../reference/get_gamma_default.html">get_gamma_default()</a></code> ensures a feeding level of <code>f0</code> for larvae also if <code>interaction_resource</code> is not equal to 1. <a href="https://github.com/sizespectrum/mizer/issues/238" class="external-link">#238</a></li>
<li>Set default linecolour and linetype for external mortality.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-4-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-4-0"></a></h3>
<ul><li>Restored the line colours to <code>NS_params</code>
</li>
<li>Comment field now preserved by <code>set_species_default()</code>. <a href="https://github.com/sizespectrum/mizer/issues/268" class="external-link">#268</a></li>
<li>Comment on <code>w_inf</code> no longer leads to error in <code><a href="https://rdrr.io/pkg/plyr/man/aaply.html" class="external-link">plyr::aaply()</a></code>. <a href="https://github.com/sizespectrum/mizer/issues/269" class="external-link">#269</a></li>
<li>Can now again set <code>url</code> field in metadata.</li>
<li>Correct species now listed in the legend of <code><a href="../reference/plotYieldObservedVsModel.html">plotYieldObservedVsModel()</a></code> and <code><a href="../reference/plotBiomassObservedVsModel.html">plotBiomassObservedVsModel()</a></code>. <a href="https://github.com/sizespectrum/mizer/issues/266" class="external-link">#266</a></li>
<li>Standard order for legend in <code><a href="../reference/plotDiet.html">plotDiet()</a></code> restored after change to <code>ggplot2</code> package. <a href="https://github.com/sizespectrum/mizer/issues/265" class="external-link">#265</a></li>
<li>Fix handling of column names when interaction matrix is read from .csv file. <a href="https://github.com/sizespectrum/mizer/issues/263" class="external-link">#263</a></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.3.1" id="mizer-231">mizer 2.3.1<a class="anchor" aria-label="anchor" href="#mizer-231"></a></h2><p class="text-muted">CRAN release: 2022-07-06</p>
<ul><li>Resolved conflict in <code><a href="../reference/mizerPredRate.html">mizerPredRate()</a></code> between the argument <code>t</code> and the function <code><a href="https://rdrr.io/r/base/t.html" class="external-link">base::t()</a></code>.</li>
<li>Assert that upgradeParams() must be called with a MizerParams object and <code><a href="../reference/upgradeSim.html">upgradeSim()</a></code> with a MizerSim object.</li>
<li>Errors changed to warnings in <code>getRequiredRDD()</code>
</li>
<li>
<code><a href="../reference/renameSpecies.html">renameSpecies()</a></code> no longer fails when linecolour and linetype are of different lengths.</li>
<li>matchYields() now also works for a model with only a single species.</li>
<li>
<code><a href="../reference/setInitialValues.html">setInitialValues()</a></code> can now average over a time_range.</li>
<li>
<code><a href="../reference/getSSB.html">getSSB()</a></code>, <code><a href="../reference/getBiomass.html">getBiomass()</a></code>, <code><a href="../reference/getN.html">getN()</a></code>, <code><a href="../reference/getYieldGear.html">getYieldGear()</a></code> and <code><a href="../reference/getYield.html">getYield()</a></code> can now be called with a MizerParams object as well as with a MizerSim object. (<a href="https://github.com/sizespectrum/mizer/issues/200" class="external-link">#200</a>)</li>
<li>Updated the shiny app in inst/shiny/selectivity_effects to current mizer version.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.3.0" id="mizer-230">mizer 2.3.0<a class="anchor" aria-label="anchor" href="#mizer-230"></a></h2><p class="text-muted">CRAN release: 2021-09-11</p>
<div class="section level3">
<h3 id="new-features-2-3-0">New features<a class="anchor" aria-label="anchor" href="#new-features-2-3-0"></a></h3>
<ul><li>New plots <code><a href="../reference/plotBiomassObservedVsModel.html">plotBiomassObservedVsModel()</a></code> and <code><a href="../reference/plotYieldObservedVsModel.html">plotYieldObservedVsModel()</a></code> contributed by <a href="https://github.com/SamikDatta" class="external-link">@SamikDatta</a>., together with their plotly counterparts.</li>
<li>New <code><a href="../reference/calibrateBiomass.html">calibrateBiomass()</a></code>, <code><a href="../reference/calibrateYield.html">calibrateYield()</a></code> to set the model scale to agree with total observed biomass or total observed yield. Uses the new <code><a href="../reference/scaleModel.html">scaleModel()</a></code>.</li>
<li>New <code><a href="../reference/matchBiomasses.html">matchBiomasses()</a></code> and <code><a href="../reference/matchYields.html">matchYields()</a></code> will try to adjust the abundances of the species to produce the observed biomasses or yields. See blog post at <a href="https://bit.ly/2YqXESV" class="external-link uri">https://bit.ly/2YqXESV</a> .</li>
<li>There are now accessor and replacement functions for rates. So for example instead of <code>params &lt;- setReproduction(params, maturity = my_maturity)</code> one can simply use <code>maturity(params) &lt;- my_maturity</code>. These are documented together with the setter functions. <a href="https://github.com/sizespectrum/mizer/issues/213" class="external-link">#213</a></li>
<li>New <code><a href="../reference/setMetadata.html">setMetadata()</a></code> to add information to a MizerParams object describing the model, for example a title, a description, the author or list of authors, a url and a doi. This will be particularly useful for sharing your models with others</li>
<li>New <code><a href="../reference/saveParams.html">saveParams()</a></code> for saving a MizerParams object to a file and <code><a href="../reference/saveParams.html">readParams()</a></code> for reading it back in. The resulting files can be shared with others who want to run your model.</li>
<li>A MizerParams object now registers the mizer version under which the model was last saved. Should the model not be working as expected in the current version of mizer, you can go back to the older version under which presumably it was working. This helps with the reproducibility of your research.</li>
<li>A MizerParams object registers the time when it was created and the time it was last modified. See <code><a href="../reference/setMetadata.html">getMetadata()</a></code>. This helps you keep track of different versions of your model.</li>
<li>
<code><a href="../reference/steady.html">steady()</a></code> now has a <code>preserve</code> argument with possible values <code>erepro</code>, <code>R_max</code> or <code>reproduction_level</code> to specify which quantity to preserve. This means that one can continue to use <code><a href="../reference/steady.html">steady()</a></code> also once one has started to tune the density dependence in reproduction. <a href="https://github.com/sizespectrum/mizer/issues/208" class="external-link">#208</a></li>
<li>Our website is now using the nice new mizer logo designed by Kira Askaroff (www.kiraaskaroff.com)</li>
<li>There is a new mizer extension package <a href="https://sizespectrum.org/mizerMR/">mizerMR</a> allowing you to include multiple resource spectra in your model.</li>
</ul></div>
<div class="section level3">
<h3 id="small-improvements-2-3-0">Small improvements<a class="anchor" aria-label="anchor" href="#small-improvements-2-3-0"></a></h3>
<ul><li>The rownames of <code>gear_params</code> are now set to “species, gear”, so that one can access individual entries with for example <code>gear_params(NS_params)["Cod, Otter", "catchability"]</code>. <a href="https://github.com/sizespectrum/mizer/issues/212" class="external-link">#212</a></li>
<li>The <code>z0</code> argument of <code><a href="../reference/setExtMort.html">setExtMort()</a></code> has been deprecated in favour of <code>ext_mort</code> in order to avoid confusion with the species parameter <code>z0</code>.</li>
<li>
<code><a href="../reference/setColours.html">setColours()</a></code> and <code><a href="../reference/setColours.html">setLinetypes()</a></code> now issue warnings when invalid values are given and ignores NAs.</li>
<li>The experimental <code>comment</code> arguments to the setter functions have been removed. <a href="https://github.com/sizespectrum/mizer/issues/214" class="external-link">#214</a></li>
<li>The setter functions have a new <code>reset</code> argument which, when set to <code>TRUE</code> will recalculate the rates from the species_, gear_ and resource_params even when custom values had been set. <a href="https://github.com/sizespectrum/mizer/issues/214" class="external-link">#214</a></li>
<li>The <code>species</code> argument to various functions, which is checked with <code><a href="../reference/valid_species_arg.html">valid_species_arg()</a></code>, now does not throw an error even when there is no valid species included. Only a warning is issued. That means that for example <code>plotSpectra(NS_params, species = list(), total = TRUE)</code> is now allowed.</li>
<li>
<code><a href="../reference/getComponent.html">getComponent()</a></code> from the mizer extension mechanism now returns NULL when asked for a non-existent component instead of giving an error. This gives an easy way to check for the existence of a component.</li>
<li>The example interaction matrix <code>inter</code> for the North Sea model now has the alternative name <code>NS_interaction</code>, with the old name deprecated.</li>
<li>Species added with <code><a href="../reference/addSpecies.html">addSpecies()</a></code> are now by default given a reproduction level of 1/4 instead of 0, because at the low densities at which they are introduced there would otherwise not be enough density dependence to stabilise them.</li>
<li>The size range arguments <code>min_w</code>, <code>max_w</code>, <code>min_l</code> and <code>max_l</code> used in some summary functions and processed by <code><a href="../reference/get_size_range_array.html">get_size_range_array()</a></code> accept vector values setting different limits for different species.</li>
<li>The resource dynamics function is now also passed the <code>resource_rate</code> and the <code>resource_capacity</code> as arguments, which makes it easier to use them in extension packages.</li>
<li>Species names are now always coerced to strings, even if the user gives them as numbers. <a href="https://github.com/sizespectrum/mizer/issues/202" class="external-link">#202</a></li>
<li>There is a new system for informing the user about how defaults were set by <code><a href="../reference/newMultispeciesParams.html">newMultispeciesParams()</a></code>, <a href="https://github.com/sizespectrum/mizer/issues/199" class="external-link">#199</a></li>
<li>Many improvements in the documentation.</li>
<li>Many small improvements to code quality and testing.</li>
<li>Better social media cards, especially for twitter.</li>
<li>mizer can be run on binder, <a href="https://mybinder.org/v2/gh/sizespectrum/mizer/HEAD?urlpath=rstudio" class="external-link uri">https://mybinder.org/v2/gh/sizespectrum/mizer/HEAD?urlpath=rstudio</a>
</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-3-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-3-0"></a></h3>
<ul><li>Changing <code>linecolour</code> or <code>linetype</code> in the species parameters now actually changes the linecolours and linetypes as intended.</li>
<li>Growth curves calculated with <code><a href="../reference/getGrowthCurves.html">getGrowthCurves()</a></code> and plotted with <code><a href="../reference/plotGrowthCurves.html">plotGrowthCurves()</a></code> are now correct, and no longer extend above the asymptotic size.</li>
<li>
<code><a href="../reference/plotGrowthCurves.html">plotGrowthCurves()</a></code> with <code>species_panel = TRUE</code> now respects the <code>species</code> argument to only show growth curves for selected species, it works with a MizerParams object as well as a MizerSim object, and it shows the panels in the correct order. <a href="https://github.com/sizespectrum/mizer/issues/201" class="external-link">#201</a></li>
<li>Reinstated the example .csv files that were missing from the package because the vignettes are no longer included.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.2.1" id="mizer-221">mizer 2.2.1<a class="anchor" aria-label="anchor" href="#mizer-221"></a></h2><p class="text-muted">CRAN release: 2021-08-03</p>
<div class="section level3">
<h3 id="new-functionality-2-2-1">New functionality<a class="anchor" aria-label="anchor" href="#new-functionality-2-2-1"></a></h3>
<ul><li>The <code><a href="../reference/setBevertonHolt.html">setBevertonHolt()</a></code> function has been expanded with more arguments. It allows you to change the density dependence in reproduction without changing the steady state of your model.</li>
<li>The new <code><a href="../reference/getReproductionLevel.html">getReproductionLevel()</a></code> function tells you at what proportion of their maximum reproduction rate the species are operating in your model.</li>
<li>The package now comes with an example MizerSim object <code>NS_sim</code> which holds a simulation of the North Sea model.</li>
<li>New function <code><a href="../reference/plotDataFrame.html">plotDataFrame()</a></code> allows easier creation of plots.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-2-1">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-2-1"></a></h3>
<ul><li>
<code><a href="../reference/setInitialValues.html">setInitialValues()</a></code> correctly preserves the gear names on the initial effort. Thanks to Axel Rossberg.</li>
<li>
<code><a href="../reference/getFMort.html">getFMort()</a></code> correctly passes the <code>t</code> argument on to any custom fishing mortality function you may have written.</li>
<li>The legends in the plots now only show the species that are actually included in the plot.</li>
</ul></div>
<div class="section level3">
<h3 id="other-improvements-2-2-1">Other improvements<a class="anchor" aria-label="anchor" href="#other-improvements-2-2-1"></a></h3>
<ul><li>Speed improvement in <code><a href="../reference/mizerPredMort.html">mizerPredMort()</a></code> suggested by Axel Rossberg.</li>
<li>
<code><a href="../reference/plotSpectra.html">plotSpectra()</a></code> now only shows those species in the legend that are actually contained in the plot.</li>
<li>Updated tests of plots to use new version of vdiffr package.</li>
<li>Some improvements to the examples on the help pages.</li>
<li>Some functions do more thorough tests of their arguments to give more useful error messages.</li>
<li>
<code><a href="../reference/initialNOther-set.html">initialNOther()</a></code> also works with MizerSim object.</li>
<li>When <code><a href="../reference/projectToSteady.html">projectToSteady()</a></code> is called with <code>effort</code>, this effort is now also stored in the <code>initial_effort</code> slot.</li>
<li>Improvement to <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> which is now using <code><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf()</a></code> for better formatting and also gives the initial_effort.</li>
<li>Improved documentation of size grid and bins.</li>
<li>The arguments to <code><a href="../reference/project_simple.html">project_simple()</a></code> have been given convenient defaults.</li>
<li>The tooltips in the plotly plots have been cleaned up a bit.</li>
<li>Species names are now always coerced to strings, even if the user supplies numeric names.</li>
<li>Update to the “A Multi-Species Model of the North Sea” tutorial to use <code><a href="../reference/projectToSteady.html">projectToSteady()</a></code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.2.0" id="mizer-220">mizer 2.2.0<a class="anchor" aria-label="anchor" href="#mizer-220"></a></h2><p class="text-muted">CRAN release: 2021-06-24</p>
<div class="section level3">
<h3 id="new-functionality-2-2-0">New functionality<a class="anchor" aria-label="anchor" href="#new-functionality-2-2-0"></a></h3>
<ul><li>New function <code><a href="../reference/newSingleSpeciesParams.html">newSingleSpeciesParams()</a></code> for creating a single species in a power-law background.</li>
<li>New function <code><a href="../reference/animateSpectra.html">animateSpectra()</a></code> creating an animated plot of a simulation.</li>
<li>New functions <code><a href="../reference/addSpecies.html">addSpecies()</a></code>, <code><a href="../reference/removeSpecies.html">removeSpecies()</a></code> and <code><a href="../reference/renameSpecies.html">renameSpecies()</a></code>.</li>
<li>The parameters for an ecosystem component added with <code><a href="../reference/setComponent.html">setComponent()</a></code> can now take any form, they no longer have to be a named list.</li>
<li>New argument <code>return_data</code> in the plot’s functions allows to return the data frame used for the ggplot instead of the plot.</li>
</ul></div>
<div class="section level3">
<h3 id="breaking-changes-2-2-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-2-2-0"></a></h3>
<ul><li>
<code><a href="../reference/steady.html">steady()</a></code> no longer switches off the Beverton-Holt density dependence. You can do this manually with <code><a href="../reference/setBevertonHolt.html">setBevertonHolt()</a></code> with <code>R_factor = Inf</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-2-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-2-0"></a></h3>
<ul><li>
<code><a href="../reference/getYield.html">getYield()</a></code> now also works with density-dependent fishing mortality. Thanks to James Roger for discovering the problem.</li>
<li>The <code>gamma</code> argument now is no longer ignored in <code><a href="../reference/newTraitParams.html">newTraitParams()</a></code> but correctly overrides the <code>f0</code> argument. <a href="https://github.com/sizespectrum/mizer/issues/188" class="external-link">#188</a></li>
<li>
<code><a href="../reference/getFMort.html">getFMort()</a></code> again works correctly when called with a MizerSim object.</li>
<li>
<code><a href="../reference/resource_semichemostat.html">resource_semichemostat()</a></code> no longer fail when at some sizes both the resource growth rate and the resource mortality rate are both zero.</li>
<li>The default for <code>no_w</code> in <code><a href="../reference/newTraitParams.html">newTraitParams()</a></code> is now always an integer.</li>
<li>Problems with different machine precision no longer prompts the error “The <code>w_min_idx</code> should point to the start of the size bin containing the egg size <code>w_min</code>”.</li>
<li>`addSpecies() no longer extends grid due to rounding errors.</li>
<li>If <code><a href="../reference/valid_species_arg.html">valid_species_arg()</a></code> is called with <code>species = NULL</code> and there are no background species then it returns <code>NULL</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-2-2-0">Documentation<a class="anchor" aria-label="anchor" href="#documentation-2-2-0"></a></h3>
<ul><li>New tutorial about single-species sizes-spectrum dynamics.</li>
<li>Improved documentation of <code><a href="../reference/getDiet.html">getDiet()</a></code> and <code><a href="../reference/plotDiet.html">plotDiet()</a></code>.</li>
<li>More info on units added to documentation of summary functions.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.1.0" id="mizer-210">mizer 2.1.0<a class="anchor" aria-label="anchor" href="#mizer-210"></a></h2><p class="text-muted">CRAN release: 2021-03-21</p>
<div class="section level3">
<h3 id="new-functionality-2-1-0">New functionality<a class="anchor" aria-label="anchor" href="#new-functionality-2-1-0"></a></h3>
<ul><li>New function <code><a href="../reference/projectToSteady.html">projectToSteady()</a></code> to run the full dynamics to steady state.</li>
<li>New functions <code><a href="../reference/distanceSSLogN.html">distanceSSLogN()</a></code> and <code><a href="../reference/distanceMaxRelRDI.html">distanceMaxRelRDI()</a></code> to measure distance between two states.</li>
<li>New function <code><a href="../reference/compareParams.html">compareParams()</a></code> to compare two MizerParams objects.</li>
<li>Added <code><a href="../reference/constantEggRDI.html">constantEggRDI()</a></code> to allow keeping egg densities fixed.</li>
<li>When setting custom parameter arrays with the setter functions, it is now easy for the user to document that via “comment” arguments. <a href="https://github.com/sizespectrum/mizer/issues/177" class="external-link">#177</a></li>
<li>New function <code><a href="../reference/customFunction.html">customFunction()</a></code> to allow users to overwrite mizer functions.</li>
<li>Now if the effort is specified as a named vector giving values only for some gears, the effort for the remaining gears is assumed to be zero.</li>
<li>Added the possibility to see the output of <code>plotGrowthCurves</code> as a panel of species with their respective Von Bertalanffy curves</li>
</ul></div>
<div class="section level3">
<h3 id="breaking-changes-2-1-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-2-1-0"></a></h3>
<ul><li>By default, the functions <code><a href="../reference/plotPredMort.html">plotPredMort()</a></code> and <code>plotFMort</code> will stop displaying mortality values past the species’ asymptotic size. The argument<br><code>all.sizes</code> allows you to continue to show these values.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-1-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-1-0"></a></h3>
<ul><li>
<code><a href="../reference/getFMort.html">getFMort()</a></code> now passes time argument correctly. <a href="https://github.com/sizespectrum/mizer/issues/181" class="external-link">#181</a></li>
<li>
<code>validEffortArray()</code> now sets the dimnames correctly. <a href="https://github.com/sizespectrum/mizer/issues/173" class="external-link">#173</a></li>
</ul></div>
<div class="section level3">
<h3 id="code-improvements-2-1-0">Code improvements<a class="anchor" aria-label="anchor" href="#code-improvements-2-1-0"></a></h3>
<ul><li>Using <code>lifecycle</code> package to indicate status of some functions and arguments as ‘experimental’ or ‘deprecated’.</li>
<li>Improved error handling in <code><a href="../reference/setFishing.html">setFishing()</a></code>. <a href="https://github.com/sizespectrum/mizer/issues/172" class="external-link">#172</a></li>
<li>Made use of vdiffr conditional, as required by §1.1.3.1 of ‘Writing R Extensions’.</li>
<li>Consistent handling of <code>species</code> argument in mizer functions, via the new <code><a href="../reference/valid_species_arg.html">valid_species_arg()</a></code> function. <a href="https://github.com/sizespectrum/mizer/issues/170" class="external-link">#170</a></li>
<li>More tests. Test coverage now at 94.71%</li>
<li>Improved argument checking in <code><a href="../reference/setInitialValues.html">setInitialValues()</a></code>
</li>
<li>Throwing error if <code>min_w_pp</code> is larger than <code>min_w</code>
</li>
<li>Improved documentation of functions for getting fishing mortality.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.4" id="mizer-204">mizer 2.0.4<a class="anchor" aria-label="anchor" href="#mizer-204"></a></h2><p class="text-muted">CRAN release: 2020-08-30</p>
<div class="section level3">
<h3 id="bug-fixes-2-0-4">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-0-4"></a></h3>
<ul><li>The value of <code>t</code> passed to dynamics functions has been corrected.</li>
<li>
<code><a href="../reference/setReproduction.html">setReproduction()</a></code> now correctly sets the the total proportion psi when the maturity proportion is changed.</li>
</ul></div>
<div class="section level3">
<h3 id="enhancements-2-0-4">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-2-0-4"></a></h3>
<ul><li>The way times are set in <code><a href="../reference/project.html">project()</a></code> has been simplified. They are now either set by the arguments <code>t_start</code>, <code>t_max</code> and <code>t_save</code> or by the dimension names of the <code>effort</code> array.</li>
<li>Renamed <code><a href="../reference/setRmax.html">setRmax()</a></code> to <code><a href="../reference/setBevertonHolt.html">setBevertonHolt()</a></code> and allow it to work on an arbitrary MizerParams object. The old name <code><a href="../reference/setRmax.html">setRmax()</a></code> is still available as alias.</li>
<li>
<code><a href="../reference/mizerFMort.html">mizerFMort()</a></code> now can also use the abundances and the rates <code>e_growth</code> and <code>pred_mort</code>. This is useful for example for implementing balanced harvesting.</li>
<li>A calculation in the numeric scheme has been simplified.</li>
<li>
<code>gear_params</code> is allowed to have zero rows.</li>
<li>In <code><a href="../reference/validGearParams.html">validGearParams()</a></code> the species name is used as gear name in case <code>gear_name</code> is NA.</li>
<li>
<code><a href="../reference/validGearParams.html">validGearParams()</a></code> ensures that all required arguments of the selectivity function are supplied and checks validity of species names.</li>
<li>
<code>species_params()&lt;-</code> suppresses warnings.</li>
<li>When <code><a href="../reference/steady.html">steady()</a></code> fails because RDI is zero it gives a meaningful error message.</li>
<li>
<code><a href="../reference/newCommunityParams.html">newCommunityParams()</a></code> now protects its zero investment in reproduction with a comment.</li>
<li>The default maturity ogive is truncated at proportions smaller than 1e-8.</li>
<li>A new helper function <code><a href="../reference/valid_species_arg.html">valid_species_arg()</a></code> checks validity of species selection arguments.</li>
<li>
<code><a href="../reference/upgradeParams.html">upgradeParams()</a></code> can now also upgrade old MizerParams objects that do not have a consistent <code>initial_effort</code>.</li>
<li>A new helper function <code><a href="../reference/validParams.html">validParams()</a></code> validates a MizerParams object and automatically upgrades it with <code><a href="../reference/upgradeParams.html">upgradeParams()</a></code> if necessary.</li>
<li>Old MizerParams objects are updated automatically when used in plot functions, rate functions, summary functions or in <code><a href="../reference/project.html">project()</a></code> or <code><a href="../reference/steady.html">steady()</a></code>, <a href="https://github.com/sizespectrum/mizer/issues/163" class="external-link">#163</a>.</li>
<li>New function <code><a href="../reference/getRates.html">getRates()</a></code> to calculates all rates and collects them in a list.</li>
<li>
<code><a href="../reference/steady.html">steady()</a></code> with <code>return_sim = TRUE</code> now creates the MizerSim object the same way as <code><a href="../reference/project.html">project()</a></code>, namely with the original values in the first time slot.</li>
<li>Added documentation for <code><a href="../reference/species_params.html">species_params()</a></code>, <code><a href="../reference/gear_params.html">gear_params()</a></code> and <code><a href="../reference/resource_params.html">resource_params()</a></code>.</li>
<li>Numerous small improvements to documentation.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.3" id="mizer-203">mizer 2.0.3<a class="anchor" aria-label="anchor" href="#mizer-203"></a></h2><p class="text-muted">CRAN release: 2020-07-28</p>
<div class="section level3">
<h3 id="bug-fixes-2-0-3">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-0-3"></a></h3>
<ul><li>Correct handling of shiny progress bar in <code><a href="../reference/project.html">project()</a></code>.</li>
</ul></div>
<div class="section level3">
<h3 id="enhancements-2-0-3">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-2-0-3"></a></h3>
<ul><li>Consistently passing the time argument to the rate functions. This will allow extensions to implement time-dependent rates.</li>
<li>Passing growth and mortality rate to RDI function.</li>
<li>Simplified the <code><a href="../reference/getRates.html">getRates()</a></code> functions by removing the arguments that passed in other rates. Instead the required rates are now always calculated within these functions.</li>
<li>Improved documentation of rate functions and of how to register your own rate functions.</li>
<li>In <code><a href="../reference/validGearParams.html">validGearParams()</a></code> handle NAs more gracefully and check that there are no duplicates.</li>
<li>Updated hake-mullet selectivity demonstration shiny app.</li>
<li>Improved user documentation in several places.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.2" id="mizer-202">mizer 2.0.2<a class="anchor" aria-label="anchor" href="#mizer-202"></a></h2><p class="text-muted">CRAN release: 2020-06-08</p>
<div class="section level3">
<h3 id="bug-fixes-2-0-2">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-0-2"></a></h3>
<ul><li>Time passed to rate functions is now the actual simulation time, not the time elapsed since start of simulation.</li>
<li>
<code><a href="../reference/upgradeParams.html">upgradeParams()</a></code> works also on params objects that were created with a development version of mizer.</li>
<li>When upgrading an older params object, <code><a href="../reference/upgradeParams.html">upgradeParams()</a></code> does a better job at guessing the value for <code>w_pp_cutoff</code>.</li>
<li>
<code><a href="../reference/getFeedingLevel.html">getFeedingLevel()</a></code>, <code><a href="../reference/getPredMort.html">getPredMort()</a></code>, <code><a href="../reference/setInitialValues.html">setInitialValues()</a></code> and <code><a href="../reference/steady.html">steady()</a></code> now work also when model has extra components.</li>
<li>The critical feeding level lines are now mentioned in the legend of <code>plotFeedinglevel()</code> when called with <code>include_critical = TRUE</code>, see <a href="https://github.com/sizespectrum/mizer/issues/162" class="external-link">#162</a>.</li>
<li>Avoid annoying warnings from dplyr package when <code>species_params</code> is a tibble.</li>
</ul></div>
<div class="section level3">
<h3 id="name-changes-2-0-2">Name changes<a class="anchor" aria-label="anchor" href="#name-changes-2-0-2"></a></h3>
<ul><li>Renamed the functions <code>params()</code>, <code>effort()</code> and <code>times()</code> to <code><a href="../reference/getParams.html">getParams()</a></code>, <code><a href="../reference/getEffort.html">getEffort()</a></code> and <code><a href="../reference/getTimes.html">getTimes()</a></code> to avoid conflicts.</li>
</ul></div>
<div class="section level3">
<h3 id="minor-enhancements-2-0-2">Minor enhancements<a class="anchor" aria-label="anchor" href="#minor-enhancements-2-0-2"></a></h3>
<ul><li>Some improvements to documentation.</li>
<li>More unit tests.</li>
<li>Uses less memory when time step is very small by not creating array with effort values at each time step.</li>
<li>
<code><a href="../reference/getDiet.html">getDiet()</a></code> also takes into account possible contributions by user-defined other components.</li>
<li>In extension mechanism, now the name of a component is also passed to the functions implementing dynamics, encounter and mortality.</li>
<li>If <code><a href="../reference/project.html">project()</a></code> is called with <code>t_max &lt; t_save</code> then <code>t_save</code> is automatically reduced so that the result at <code>t_max</code> will get saved.</li>
<li>Start showing progress bar earlier during <code><a href="../reference/project.html">project()</a></code>.</li>
<li>New helper function <code><a href="../reference/project_simple.html">project_simple()</a></code> that projects a given number of time steps. This might be useful to extension writers.</li>
<li>The <code>...</code> argument to <code><a href="../reference/project.html">project()</a></code> is passed on to the dynamics and rate functions.</li>
<li>
<code><a href="../reference/steady.html">steady()</a></code> runs faster by using <code><a href="../reference/project_simple.html">project_simple()</a></code>.</li>
<li>Documentation on mizer website now has a search bar.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.1" id="mizer-201">mizer 2.0.1<a class="anchor" aria-label="anchor" href="#mizer-201"></a></h2><p class="text-muted">CRAN release: 2020-05-05</p>
<div class="section level3">
<h3 id="bug-fixes-2-0-1">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-0-1"></a></h3>
<ul><li>
<code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> now also works with non-default feeding kernels. <a href="https://github.com/sizespectrum/mizer/issues/159" class="external-link">#159</a></li>
<li>
<code><a href="../reference/validSpeciesParams.html">validSpeciesParams()</a></code> no longer fails when <code>w_mat25</code> is not specified. <a href="https://github.com/sizespectrum/mizer/issues/160" class="external-link">#160</a></li>
<li>
<code><a href="../reference/setInitialValues.html">setInitialValues()</a></code> also works in a model with only a single species. <a href="https://github.com/sizespectrum/mizer/issues/161" class="external-link">#161</a></li>
<li>
<code>resource_params()&lt;-</code> now works and has unit tests.</li>
</ul></div>
<div class="section level3">
<h3 id="name-changes-2-0-1">Name changes<a class="anchor" aria-label="anchor" href="#name-changes-2-0-1"></a></h3>
<p>Some inconsistencies in the choice of names for parameters was removed by renaming</p>
<ul><li>
<code>interaction_p</code> -&gt; <code>interaction_resource</code>
</li>
<li>
<code>r_resource</code> -&gt; <code>resource_rate</code>
</li>
<li>
<code>K_resource</code> -&gt; <code>resource_capacity</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="minor-enhancements-2-0-1">Minor enhancements<a class="anchor" aria-label="anchor" href="#minor-enhancements-2-0-1"></a></h3>
<ul><li>New functions <code>other_params()&lt;-</code> and <code><a href="../reference/setRateFunction.html">other_params()</a></code> for setting and getting other parameters, for example to be used in user-defined rate functions.</li>
<li>
<code><a href="../reference/setInitialValues.html">setInitialValues()</a></code> also sets <code>initial_effort</code>. <a href="https://github.com/sizespectrum/mizer/issues/157" class="external-link">#157</a></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.0" id="mizer-200">mizer 2.0.0<a class="anchor" aria-label="anchor" href="#mizer-200"></a></h2><p class="text-muted">CRAN release: 2020-04-04</p>
<p>This is a major new release with many new features, an internal refactoring of the code and a new extension mechanism.</p>
<div class="section level3">
<h3 id="backwards-compatibility-2-0-0">Backwards compatibility<a class="anchor" aria-label="anchor" href="#backwards-compatibility-2-0-0"></a></h3>
<p>Nevertheless this version of mizer is almost fully backwards compatible with version 1.0 with the exception of bug fixes and the following breaking changes:</p>
<ul><li>The previous version of mizer inconsistently truncated the lognormal predation kernel when calculating predation but not when calculating encounter. The new version never truncates. That leads to very small differences in simulation results.</li>
<li>Removed the <code>print_it</code> argument from plot functions.</li>
<li>
<code><a href="../reference/plotFeedingLevel.html">plotFeedingLevel()</a></code> now only plots the values within the size range of each species. If for some reason you want the old plots that show a feeding level also for sizes that the fish can never have, you need to supply an argument <code>all.sizes = TRUE</code>.</li>
<li>The way the density-dependence in the reproduction rate is set has changed, see <code>RDD</code> argument in <code><a href="../reference/setReproduction.html">setReproduction()</a></code>.</li>
<li>The <code>sex_ratio</code> argument has been removed from <code><a href="../reference/getRDI.html">getRDI()</a></code> and <code><a href="../reference/getRDD.html">getRDD()</a></code>.</li>
<li>The <code>set_scaling_model()</code> function has been removed because such models can now be set up with <code><a href="../reference/newTraitParams.html">newTraitParams()</a></code> with the options <code>perfect_scaling = TRUE</code> and <code>egg_size_scaling = TRUE</code>.</li>
<li>The functions <code>display_frames()</code>, <code><a href="../reference/addSpecies.html">addSpecies()</a></code>, <code>setBackground()</code> and <code>retuneAbundance()</code> have been removed to the “mizerExperimental” package (<a href="https://sizespectrum.org/mizerExperimental/" class="uri">https://sizespectrum.org/mizerExperimental/</a>)</li>
<li>During runs of <code><a href="../reference/project.html">project()</a></code> a progress bar is displayed by default. You can turn this off with the option `progress_bar = FALSE.</li>
<li>Throughout mizer the term “plankton” has been replaced by “resource”, which affects the labelling of the resource spectrum in plots.</li>
</ul></div>
<div class="section level3">
<h3 id="setting-up-models-2-0-0">Setting up models<a class="anchor" aria-label="anchor" href="#setting-up-models-2-0-0"></a></h3>
<p>The new functions</p>
<ul><li><code><a href="../reference/newCommunityParams.html">newCommunityParams()</a></code></li>
<li><code><a href="../reference/newTraitParams.html">newTraitParams()</a></code></li>
<li><code><a href="../reference/newMultispeciesParams.html">newMultispeciesParams()</a></code></li>
</ul><p>replace the old functions <code><a href="../reference/set_community_model.html">set_community_model()</a></code>, <code><a href="../reference/set_trait_model.html">set_trait_model()</a></code> and <code><a href="../reference/MizerParams.html">MizerParams()</a></code>, which are now deprecated. The new functions choose better default values, in particular for metabolic rate and maximum intake rate.</p>
</div>
<div class="section level3">
<h3 id="setting-model-parameters-2-0-0">Setting model parameters<a class="anchor" aria-label="anchor" href="#setting-model-parameters-2-0-0"></a></h3>
<p>After setting up a mizer model, it is possible to change specific model parameters with the new functions</p>
<ul><li><code>species_params&lt;-()</code></li>
<li><code>resource_params&lt;-()</code></li>
<li><code>gear_params&lt;-()</code></li>
<li><code><a href="../reference/setPredKernel.html">setPredKernel()</a></code></li>
<li><code><a href="../reference/setSearchVolume.html">setSearchVolume()</a></code></li>
<li><code><a href="../reference/setInteraction.html">setInteraction()</a></code></li>
<li><code><a href="../reference/setMaxIntakeRate.html">setMaxIntakeRate()</a></code></li>
<li><code><a href="../reference/setMetabolicRate.html">setMetabolicRate()</a></code></li>
<li><code><a href="../reference/setExtMort.html">setExtMort()</a></code></li>
<li><code><a href="../reference/setReproduction.html">setReproduction()</a></code></li>
<li><code><a href="../reference/setFishing.html">setFishing()</a></code></li>
<li><code><a href="../reference/setResource.html">setResource()</a></code></li>
</ul><p>The new function <code><a href="../reference/setParams.html">setParams()</a></code> is a wrapper for all of the above functions and is also used when setting up a new model with <code><a href="../reference/newMultispeciesParams.html">newMultispeciesParams()</a></code>. (<a href="https://github.com/sizespectrum/mizer/issues/51" class="external-link">#51</a>)</p>
<p>The documentation for these functions serves to explain the details of the mizer model.</p>
<p>Along with these setter functions there are accessor functions for getting the parameter arrays: <code><a href="../reference/setPredKernel.html">getPredKernel()</a></code>, <code><a href="../reference/setSearchVolume.html">getSearchVolume()</a></code>, <code><a href="../reference/getInteraction.html">getInteraction()</a></code>, <code><a href="../reference/setMaxIntakeRate.html">getMaxIntakeRate()</a></code>, <code><a href="../reference/setMetabolicRate.html">getMetabolicRate()</a></code>, <code><a href="../reference/setExtMort.html">getExtMort()</a></code>, <code><a href="../reference/setReproduction.html">getMaturityProportion()</a></code>, <code><a href="../reference/setReproduction.html">getReproductionProportion()</a></code>, <code><a href="../reference/setFishing.html">getCatchability()</a></code>, <code><a href="../reference/setFishing.html">getSelectivity()</a></code>, <code><a href="../reference/getResourceDynamics.html">getResourceRate()</a></code>, <code><a href="../reference/getResourceDynamics.html">getResourceCapacity()</a></code>, <code>getResourceParams()</code>, <code><a href="../reference/getResourceDynamics.html">getResourceDynamics()</a></code>,</p>
<ul><li>Setting of the maximum reproduction rate has been separated out into new function <code><a href="../reference/setRmax.html">setRmax()</a></code>.</li>
</ul></div>
<div class="section level3">
<h3 id="initial-values-and-steady-state-2-0-0">Initial Values and steady state<a class="anchor" aria-label="anchor" href="#initial-values-and-steady-state-2-0-0"></a></h3>
<p>The MizerParams object now also contains the initial values for the size spectra. This is particularly useful if the model has been tuned to produce the observed steady state. The new function <code><a href="../reference/steady.html">steady()</a></code> finds a steady state for a model and sets it as the initial value. The initial values can be accessed and changed via functions <code><a href="../reference/initialN-set.html">initialN()</a></code> and <code><a href="../reference/initialNResource-set.html">initialNResource()</a></code>. The initial values can be set to the final values of a previous simulation with <code><a href="../reference/setInitialValues.html">setInitialValues()</a></code>.</p>
<p>The MizerParams object now has a slot <code>initial_effort</code> that specifies the initial fishing effort to which the steady state has been calibrated.</p>
</div>
<div class="section level3">
<h3 id="extension-mechanisms-2-0-0">Extension mechanisms<a class="anchor" aria-label="anchor" href="#extension-mechanisms-2-0-0"></a></h3>
<p>Mizer now has an extension mechanism that allows other R packages to be written to generalise the mizer model. See <code><a href="../reference/setRateFunction.html">setRateFunction()</a></code> and <code><a href="../reference/setComponent.html">setComponent()</a></code>. This mechanism is still experimental and may change as we gain experience in writing extensions for mizer.</p>
</div>
<div class="section level3">
<h3 id="plotting-2-0-0">Plotting<a class="anchor" aria-label="anchor" href="#plotting-2-0-0"></a></h3>
<ul><li>Every plot function now has a plotly version that makes the plot interactive using the plotly package. So for example there is <code><a href="../reference/plotBiomass.html">plotlyBiomass()</a></code> as the plotly version of <code><a href="../reference/plotBiomass.html">plotBiomass()</a></code>, and so on.</li>
<li>New <code><a href="../reference/plotGrowthCurves.html">plotGrowthCurves()</a></code> plots growth curves and compares them to the von Bertalanffy growth curve.</li>
<li>New <code><a href="../reference/plotDiet.html">plotDiet()</a></code> plots the diet composition as a function of predator size.</li>
<li>New <code>highlight</code> argument to all plot functions that display curves for multiple species. Displays highlighted species with wider lines.</li>
<li>In the legends of all plots the species are now consistently ordered in the same way as in the species parameter data frame.</li>
<li>All plot functions that are not time-resolved now accept also a MizerParams object as an alternative to the MizerSim object to plot the initial state.</li>
<li>New <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> method for MizerParams object to plot the initial state.</li>
<li>Avoiding duplicate graphs in R Markdown documents.</li>
<li>New argument <code>include_critical</code> in <code><a href="../reference/plotFeedingLevel.html">plotFeedingLevel()</a></code> allows to show also the critical feeding level.</li>
<li>New <code>wlim</code> argument to <code><a href="../reference/plotSpectra.html">plotSpectra()</a></code> in analogy to the existing <code>ylim</code> argument to limit the <code>w</code> range in the plot.</li>
<li>The colours used in plot functions can be set with <code><a href="../reference/setColours.html">setColours()</a></code>.</li>
<li>The default line type is <code>solid</code> but this can be changed via the <code><a href="../reference/setColours.html">setLinetypes()</a></code> function.</li>
<li>Use colour and linetype for plots irrespective of the number of species.</li>
</ul></div>
<div class="section level3">
<h3 id="general-predation-kernel-2-0-0">General predation kernel<a class="anchor" aria-label="anchor" href="#general-predation-kernel-2-0-0"></a></h3>
<ul><li>Users can now replace the lognormal function in the predation kernel by a function of their choice, allowing a differently shaped kernel for each species.</li>
<li>New <code><a href="../reference/box_pred_kernel.html">box_pred_kernel()</a></code> implements a box-shaped kernel as an alternative to the default <code><a href="../reference/lognormal_pred_kernel.html">lognormal_pred_kernel()</a></code>.</li>
<li>New <code><a href="../reference/power_law_pred_kernel.html">power_law_pred_kernel()</a></code> implements a power-law kernel with sigmoidal cutoffs at both ends. This is suitable for filter feeders.</li>
<li>Users can sets a predation kernel that has a predator-size-dependent predator/prey mass ration (via <code><a href="../reference/setPredKernel.html">setPredKernel()</a></code>). Mizer automatically falls back on the old non-FFT code to handle this. (<a href="https://github.com/sizespectrum/mizer/issues/41" class="external-link">#41</a>)</li>
<li>New <code><a href="../reference/setPredKernel.html">getPredKernel()</a></code> returns the full 3-dimensional predation kernel array, even when this is not stored in MizerParams object.</li>
</ul></div>
<div class="section level3">
<h3 id="new-gear-setup-2-0-0">New gear setup<a class="anchor" aria-label="anchor" href="#new-gear-setup-2-0-0"></a></h3>
<p>Now it is finally possible to have several gears (or fleets) targeting the same species. The information is set up via a new <code><a href="../reference/gear_params.html">gear_params()</a></code> data frame. See <code><a href="../reference/setFishing.html">setFishing()</a></code> for details.</p>
</div>
<div class="section level3">
<h3 id="other-new-functions-2-0-0">Other new functions<a class="anchor" aria-label="anchor" href="#other-new-functions-2-0-0"></a></h3>
<ul><li>There are now accessor functions for all slots in the MizerParams and MizerSim objects. For example to get at the size grid and its spacing you would now use <code><a href="../reference/w.html">w()</a></code>, <code><a href="../reference/w.html">w_full()</a></code>, <code><a href="../reference/w.html">dw()</a></code>, <code><a href="../reference/w.html">dw_full()</a></code>.</li>
<li>New <code><a href="../reference/upgradeParams.html">upgradeParams()</a></code> and <code><a href="../reference/upgradeSim.html">upgradeSim()</a></code> can upgrade objects from previous versions of mizer so they work with the new version.</li>
<li>New <code><a href="../reference/getDiet.html">getDiet()</a></code> calculates the diet of predators. (<a href="https://github.com/sizespectrum/mizer/issues/43" class="external-link">#43</a>)</li>
<li>Alternative functions <code><a href="../reference/RickerRDD.html">RickerRDD()</a></code> and <code><a href="../reference/SheperdRDD.html">SheperdRDD()</a></code> for density-dependence in reproduction, as well as <code><a href="../reference/noRDD.html">noRDD()</a></code> and <code><a href="../reference/constantRDD.html">constantRDD()</a></code>.</li>
<li>New gear selectivity function <code><a href="../reference/double_sigmoid_length.html">double_sigmoid_length()</a></code> allows modelling of escape of large individuals.</li>
<li>New gear selectivity function <code>sigmoidal_weight()</code> is weight-based trawl selectivity function. (Ken H Andersen)</li>
<li>New <code><a href="../reference/getGrowthCurves.html">getGrowthCurves()</a></code> calculates the growth curves (size at age).</li>
<li>New <code><a href="../reference/mizerRates.html">mizerRates()</a></code> calculates all the rates needed in the model and collects them in a list.</li>
<li>A convenience function <code>times()</code> to extract the times at which simulation results are saved in a MizerSim object.</li>
<li>Convenience functions <code><a href="../reference/finalN.html">finalN()</a></code>, <code><a href="../reference/finalN.html">finalNResource()</a></code> and <code><a href="../reference/finalNOther.html">finalNOther()</a></code> as well as <code><a href="../reference/idxFinalT.html">idxFinalT()</a></code> to access the values at the final time of a simulation.</li>
<li>New function <code><a href="../reference/getCriticalFeedingLevel.html">getCriticalFeedingLevel()</a></code> returns the critical feeding level for each species at each size.</li>
<li>Mizer reexports the <code><a href="https://rdrr.io/pkg/reshape2/man/melt.html" class="external-link">melt()</a></code> function from the reshape2 package which allows users to convert the arrays returned by mizer functions into data frames that can be used for example in ggplot2 and plotly.</li>
<li>
<code><a href="../reference/validSpeciesParams.html">validSpeciesParams()</a></code> checks validity of species parameter data frame and sets defaults for missing but required parameters.</li>
</ul></div>
<div class="section level3">
<h3 id="other-new-features-2-0-0">Other new features<a class="anchor" aria-label="anchor" href="#other-new-features-2-0-0"></a></h3>
<ul><li>The allometric exponents <code>n</code>, <code>p</code> and <code>q</code> as well as the feeding level <code>f0</code> can now be set at the species level via columns in <code>species_params</code>.</li>
<li>The critical feeding level <code>fc</code> can now be specified as a species parameter and will be used to calculate the metabolic rate parameter <code>ks</code> if it is not supplied.</li>
<li>
<code><a href="../reference/project.html">project()</a></code> now shows a progress bar while a simulation is running. Can be turned off with <code>progress_bar = FALSE</code> argument.</li>
<li>Satiation can be switched off by setting the maximum intake rate to <code>Inf</code>.</li>
<li>Users can now set their own resource dynamics instead of the default <code><a href="../reference/resource_semichemostat.html">resource_semichemostat()</a></code>.</li>
<li>Different species can interact with resource with different strengths, or not feed on resource at all, controlled by an <code>interaction_resource</code> column in the species parameter data frame.</li>
<li>The steepness of the maturity ogive can now be controlled via a <code>w_mat25</code> column in the species parameter dataframe, which gives the size at which 25% of the individuals of a species are mature.</li>
<li>The scaling exponent for the allocation of energy into reproduction can now be set via the <code>m</code> column in the species parameter data frame.</li>
<li>
<code><a href="../reference/project.html">project()</a></code> can now continue projection from last time step of a previous simulation if the first argument is a MizerSim object. The new <code>append</code> argument then controls whether the new results are appended to the old.</li>
<li>Values for minimum resource size, and minimum and maximum consumer sizes are set automatically if not provided in <code><a href="../reference/newMultispeciesParams.html">newMultispeciesParams()</a></code>.</li>
<li>Default values for species parameters are used for missing values within a column in the species parameter data frame, not only if the column is missing entirely.</li>
<li>Rate functions take defaults for their <code>n</code>, <code>n_pp</code> and <code>n_other</code> arguments from the initial values in the <code>params</code> argument.</li>
<li>New <code>perfect_scaling</code> argument allows <code><a href="../reference/newTraitParams.html">newTraitParams()</a></code> to produce a perfectly scale-invariant model.</li>
<li>A new <code>ext_mort_prop</code> argument in <code><a href="../reference/newTraitParams.html">newTraitParams()</a></code> allows the inclusion of external mortality.</li>
<li>Added a data file<code>NS_params</code> with the North Sea model MizerParams object.</li>
<li>Comments can be added to MizerParams objects and any of their slots. Slots that have comments are protected from being overwritten with allometric defaults.</li>
<li>Gear selectivity functions now can use the species parameters.</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-2-0-0">Documentation<a class="anchor" aria-label="anchor" href="#documentation-2-0-0"></a></h3>
<ul><li>Mizer now has a documentation website at <a href="https://sizespectrum.org/mizer/" class="uri">https://sizespectrum.org/mizer/</a> for the latest released version and at <a href="https://sizespectrum.org/mizer/dev/" class="uri">https://sizespectrum.org/mizer/dev/</a> for the development version. (<a href="https://github.com/sizespectrum/mizer/issues/48" class="external-link">#48</a>)</li>
<li>The help pages of mizer functions has been extended massively, see for example the help for <code><a href="../reference/newMultispeciesParams.html">newMultispeciesParams()</a></code>.</li>
<li>The vignette chapters are shown as pages on the website.</li>
<li>The html help pages for plotting functions now show example plots.</li>
<li>Clarified that mizer uses grams and years as size and time units and is agnostic about whether abundances are per area, per volume or per study area. (<a href="https://github.com/sizespectrum/mizer/issues/42" class="external-link">#42</a>)</li>
<li>Added a tutorial on using ggplot2 and plotly with mizer.</li>
<li>Added a tutorial on working with git and GitHub for mizer development.</li>
<li>Added a FAQ page for developers.</li>
<li>Added a unit test to automatically run a spell check on documentation.</li>
<li>Renamed some functions for consistency and to make them easier to understand, but kept old names as aliases for backwards compatibility:
<ul><li>
<code>getmM2()</code> -&gt; <code><a href="../reference/getPredMort.html">getPredMort()</a></code>
</li>
<li>
<code>plotM2</code> -&gt; <code><a href="../reference/plotPredMort.html">plotPredMort()</a></code>
</li>
<li>
<code>getM2background()</code> -&gt; <code><a href="../reference/getResourceMort.html">getResourceMort()</a></code>
</li>
<li>
<code><a href="../reference/getZ.html">getZ()</a></code> -&gt; <code><a href="../reference/getMort.html">getMort()</a></code>
</li>
<li>
<code><a href="../reference/getESpawning.html">getESpawning()</a></code> -&gt; <code><a href="../reference/getERepro.html">getERepro()</a></code>
</li>
<li>
<code><a href="../reference/MizerParams.html">MizerParams()</a></code> -&gt; <code><a href="../reference/emptyParams.html">emptyParams()</a></code> or <code><a href="../reference/set_multispecies_model.html">set_multispecies_model()</a></code>
</li>
</ul></li>
<li>Renamed maximum reproductive rate from <code>r_max</code> to <code>R_max</code>.</li>
<li>Updated list of publications (<a href="https://github.com/Kenhasteandersen" class="external-link">@Kenhasteandersen</a>)</li>
<li>Using R Markdown in all roxygen comments.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-0-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-0-0"></a></h3>
<ul><li>In <code><a href="../reference/getSSB.html">getSSB()</a></code>, the calculation of the spawning stock biomass is done correctly using the maturity ogive instead of the proportion of energy allocated to reproduction. (<a href="https://github.com/sizespectrum/mizer/issues/47" class="external-link">#47</a>)</li>
<li>The fast FFT method and the old method for calculating integrals now give the same numerical results. (<a href="https://github.com/sizespectrum/mizer/issues/39" class="external-link">#39</a>)</li>
<li>
<code><a href="../reference/getEncounter.html">getEncounter()</a></code> and <code><a href="../reference/getPredRate.html">getPredRate()</a></code> now set names on the returned arrays.</li>
<li>Resource carrying capacity for scale-invariant model is calculated in a way that reduces rounding errors.</li>
<li>Avoids potential problems with negative numbers due to numerical errors.</li>
<li>Consistently cutting off predation kernel at 0 and beta + 3 sigma.</li>
<li>The <code>ylim</code> argument is not handled correctly in plots.</li>
<li>
<code>display_frame()</code> is now exported.</li>
<li>
<code><a href="../reference/plotGrowthCurves.html">plotGrowthCurves()</a></code> and <code><a href="../reference/getGrowthCurves.html">getGrowthCurves()</a></code> also works when there is only a single species</li>
<li>
<code>t_start</code> argument in <code><a href="../reference/project.html">project()</a></code> is used correctly</li>
<li>times are not truncated at 3 significant figures, because that would not allow something like 2019.</li>
<li>
<code><a href="../reference/get_initial_n.html">get_initial_n()</a></code> gets values for <code>n</code> and <code>q</code> from params object</li>
<li>
<code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> of MizerParams object reflects the number of non-empty resource bins. (<a href="https://github.com/patricksykes" class="external-link">@patricksykes</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="under-the-hood-2-0-0">Under the hood<a class="anchor" aria-label="anchor" href="#under-the-hood-2-0-0"></a></h3>
<ul><li>Now using vdiffr package to test plots.</li>
<li>Converted all S4 methods to functions to decrease the learning curve for new developers.</li>
<li>The calculation of defaults is now handled by new <code><a href="../reference/get_gamma_default.html">get_gamma_default()</a></code>, <code><a href="../reference/get_h_default.html">get_h_default()</a></code> and <code><a href="../reference/get_ks_default.html">get_ks_default()</a></code>, making it easier to change or extend these in the future.</li>
<li>Helper function <code><a href="../reference/set_species_param_default.html">set_species_param_default()</a></code> makes it easier to set default values for species parameters.</li>
<li>Simplified FFT calculations are more readable.</li>
<li>Using <code>@inherit</code> functionality of roxygen2 to reduce duplication in roxygen documentation.</li>
<li>Using `@family’ to group function documentation pages.</li>
<li>The helper functions are now documented and exported.</li>
<li>
<code><a href="../reference/getPhiPrey.html">getPhiPrey()</a></code> is replaced by <code><a href="../reference/getEncounter.html">getEncounter()</a></code> which now returns the full encounter rate, including the contribution from other components. Even in the absence of other components, <code><a href="../reference/getEncounter.html">getEncounter()</a></code> differs from the old <code><a href="../reference/getPhiPrey.html">getPhiPrey()</a></code> because it includes the search volume factor.</li>
<li>Changed naming convention: user-facing function names are now in camelCase.</li>
<li>Consistently use <code>params</code> to refer to an argument of class MizerParams, <code>sim</code> to refer to an argument of class MizerSim, and <code>object</code> to an argument that can be either.</li>
<li>Updated the calls to <code>setClass()</code> to follow the new guidelines, replacing <code>representation</code> by <code>class</code> and removing <code>prototype</code> and <code>validity</code>.</li>
<li>Added numerical tests.</li>
<li>Using assert_that to check arguments to functions more often.</li>
<li>Argument <code>shiny_progress</code> renamed to <code>progress_bar</code> because they control any type of progress bar.</li>
<li>In documentation renamed “background” and “plankton” consistently to “resource”.</li>
<li>Using <code><a href="https://rdrr.io/r/base/outer.html" class="external-link">outer()</a></code> instead of <code><a href="https://rdrr.io/r/base/tapply.html" class="external-link">tapply()</a></code> where possible to improve readability.</li>
<li>Avoiding use of <code>hasArg()</code> and <code><a href="https://rdrr.io/r/base/NA.html" class="external-link">anyNA()</a></code> because they were not available in R 3.1</li>
<li>A more robust code for setting up the size grids.</li>
<li>Improved consistency of when to issue warnings and when to issue messages.</li>
<li>Split large code files into smaller files.</li>
<li>Changes to MizerParams class:
<ul><li>Merged <code>@std_metab</code> and <code>@activity</code> slots into a single <code>@metab</code> slot.</li>
<li>Moved <code>@w_min_idx</code> out of <code>@species_params</code> into its own slot.</li>
<li>Added slot <code>@maturity</code> to hold the maturity ogive.</li>
<li>Added slot <code>@pred_kernel</code> to hold predation kernel if it has variable predator/prey ratio.</li>
<li>Added slot <code>@resource_dynamics</code> to allow user to specify alternative resource dynamics.</li>
<li>Added slot <code>@gear_dynamics</code> to species to be targeted by multiple gears.</li>
<li>Added slot <code>@ft_mask</code> that is used when calculating predation rates using the Fourier transform method.</li>
<li>Added slot <code>@rates_funcs</code> to allow mizer extensions to replace mizer rate functions with their own rate functions.</li>
<li>Instead of the function in the slot <code>@srr</code> we now have the name of the function in <code>@rate_funcs$RDD</code>, see <a href="https://github.com/sizespectrum/mizer/issues/91" class="external-link">#91</a>.</li>
<li>Added slots <code>@other_dynamics</code>, <code>@other_params</code>, <code>@other_encounter</code>, <code>@other_mort</code> and <code>@initial_n_other</code> to allow mizer extensions to add more ecosystem components.</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.1" id="mizer-101">mizer 1.0.1<a class="anchor" aria-label="anchor" href="#mizer-101"></a></h2><p class="text-muted">CRAN release: 2019-01-27</p>
<ul><li>Now compatible with older versions of R &gt; 3.1.0.</li>
<li>Skipping a test on CRAN that fails on some machines with different precision.</li>
<li>Fixing minor typos in documentation.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0" id="mizer-10">mizer 1.0<a class="anchor" aria-label="anchor" href="#mizer-10"></a></h2><p class="text-muted">CRAN release: 2018-05-01</p>
<ul><li>Fixed bugs in how the start time of a simulation was handled. This leads to small corrections, so that the output of this version is slightly different from previous versions.</li>
<li>Introduced a scale-invariant trait-based model, set up with <code>set_scaling_model()</code>, see section 12 in the vignette.</li>
<li>Added a function that adds news species to a scale-invariant background, and computes an approximately steady state close to the power law, see section 13 in the vignette.</li>
<li>Created an example shiny app to allow people to use mizer through a web browser without having to install mizer. The app explores the effect of more selective fishing gear in a case study.</li>
<li>Improvements to plots:
<ul><li>Added units to axes</li>
<li>Added function for plotting growth curves</li>
<li>
<code>PlotYield()</code> no longer fails when species names are numbers or when a species abundance is zero</li>
<li>Added a <code>total</code> parameter to several plot functions to add the curve for the total community (sum over all species and resource)</li>
<li>Added a <code>species</code> parameter to all plot functions to allow for only a selection of species to be plotted</li>
<li>Allow the number of ticks on y-axis in biomass plot to be controlled</li>
</ul></li>
<li>Allow for size- and species-dependent background death.</li>
<li>Add <code>@initial_n</code> and <code>@initial_n_pp</code> slots to MizerParams class.</li>
<li>Now checking that effort times are increasing.</li>
<li>Corrections in the documentation.</li>
<li>Improvements to the vignette.</li>
<li>Add a test of the numeric solution against an analytic solution.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4" id="mizer-04">mizer 0.4<a class="anchor" aria-label="anchor" href="#mizer-04"></a></h2><p class="text-muted">CRAN release: 2017-12-14</p>
<ul><li>Improvements made to the speed by evaluating convolution sums via fft, removing the bottlenecks in <code><a href="../reference/getPhiPrey.html">getPhiPrey()</a></code> and <code><a href="../reference/getPredRate.html">getPredRate()</a></code>.</li>
<li>Using C++ for the inner loop in the project method for extra speed.</li>
<li>Minor corrections to vignette and documentation to bring them into alignment and to document the new home on GitHub and new maintainers.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3" id="mizer-03">mizer 0.3<a class="anchor" aria-label="anchor" href="#mizer-03"></a></h2>
<ul><li>Improvements made to the speed of the simulations. Remaining bottle necks are the sweep statements in <code><a href="../reference/getPhiPrey.html">getPhiPrey()</a></code> and <code><a href="../reference/getPredRate.html">getPredRate()</a></code>.</li>
<li>Moved tests to new suggested folder.</li>
<li>Minor changes to documentation to pass new check requirements.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2" id="mizer-02">mizer 0.2<a class="anchor" aria-label="anchor" href="#mizer-02"></a></h2><p class="text-muted">CRAN release: 2014-04-16</p>
<ul><li>Release to coincide with the submission of the MEE paper. No major changes. Just minor bug fixes.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1" id="mizer-01">mizer 0.1<a class="anchor" aria-label="anchor" href="#mizer-01"></a></h2><p class="text-muted">CRAN release: 2013-10-08</p>
<ul><li>Beta release - just about works but still some gremlins to sort out. There are a number of features I’d like to add in the coming releases.</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://www.york.ac.uk/maths/staff/gustav-delius/" class="external-link">Gustav Delius</a>, Finlay Scott, <a href="http://www.utas.edu.au/profiles/staff/imas/julia-blanchard" class="external-link">Julia Blanchard</a>, <a href="https://ken.haste.dk/" class="external-link">Ken Andersen</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

