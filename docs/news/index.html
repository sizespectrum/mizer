<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • mizer</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Changelog" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mizer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/mizer.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Guides</a>
</li>
<li>
  <a href="../articles/publications.html">Publications</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/sizespectrum/mizer/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href='https://github.com/sizespectrum/mizer/blob/master/NEWS.md'><code>NEWS.md</code></a></small>
    </div>

    <div id="mizer-201" class="section level1">
<h1 class="page-header" data-toc-text="2.0.1">
<a href="#mizer-201" class="anchor"></a>mizer 2.0.1<small> Unreleased </small>
</h1>
<div id="bug-fixes" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes" class="anchor"></a>Bug fixes</h2>
<ul>
<li>
<code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> now also works with non-default feeding kernels. <a href='https://github.com/sizespectrum/mizer/issues/159'>#159</a></li>
<li>
<code><a href="../reference/validSpeciesParams.html">validSpeciesParams()</a></code> no longer fails when <code>w_mat25</code> is not specified. <a href='https://github.com/sizespectrum/mizer/issues/160'>#160</a></li>
<li>
<code><a href="../reference/setInitialValues.html">setInitialValues()</a></code> also works in a model with only a single species. <a href='https://github.com/sizespectrum/mizer/issues/161'>#161</a></li>
<li>
<code>resource_params()&lt;-</code> now works and has unit tests.</li>
</ul>
</div>
<div id="naming-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#naming-changes" class="anchor"></a>Naming changes</h2>
<p>Some inconsistencies in the choice of names for parameters was removed by renaming</p>
<ul>
<li>
<code>interaction_p</code> -&gt; <code>interaction_resource</code>
</li>
<li>
<code>r_resource</code> -&gt; <code>resource_rate</code>
</li>
<li>
<code>K_resource</code> -&gt; <code>resource_capacity</code>
</li>
</ul>
</div>
<div id="new-functionality" class="section level2">
<h2 class="hasAnchor">
<a href="#new-functionality" class="anchor"></a>New functionality</h2>
<ul>
<li>New functions <code>other_params()&lt;-</code> and <code><a href="../reference/setRateFunction.html">other_params()</a></code> for setting and getting other parameters, for example to be used in user-defined rate functions.</li>
<li>
<code><a href="../reference/setInitialValues.html">setInitialValues()</a></code> also sets <code>initial_effort</code>. <a href='https://github.com/sizespectrum/mizer/issues/157'>#157</a></li>
</ul>
</div>
</div>
    <div id="mizer-200" class="section level1">
<h1 class="page-header" data-toc-text="2.0.0">
<a href="#mizer-200" class="anchor"></a>mizer 2.0.0<small> 2020-04-04 </small>
</h1>
<p>This is a major new release with many new features, an internal refactoring of the code and a new extension mechanism.</p>
<div id="backwards-compatibility" class="section level2">
<h2 class="hasAnchor">
<a href="#backwards-compatibility" class="anchor"></a>Backwards compatibility</h2>
<p>Nevertheless this version of mizer is almost fully backwards compatible with version 1.0 with the exception of bug fixes and the following breaking changes:</p>
<ul>
<li>The previous version of mizer inconsistently truncated the lognormal predation kernel when calculating predation but not when calculating encounter. The new version never truncates. That leads to very small differences in simulation results.</li>
<li>Removed the <code>print_it</code> argument from plot functions.</li>
<li>plotFeedingLevel() now only plots the values within the size range of each species. If for some reason you want the old plots that show a feeding level also for sizes that the fish can never have, you need to supply an argument <code>all.sizes = TRUE</code>.</li>
<li>The way the density-dependence in the reproduction rate is set has changed, see <code>RDD</code> argument in <code><a href="../reference/setReproduction.html">setReproduction()</a></code>.</li>
<li>The <code>sex_ratio</code> argument has been removed from <code><a href="../reference/getRDI.html">getRDI()</a></code> and <code><a href="../reference/getRDD.html">getRDD()</a></code>.</li>
<li>The <code>set_scaling_model()</code> function has been removed because such models can now be set up with <code><a href="../reference/newTraitParams.html">newTraitParams()</a></code> with the options <code>perfect_scaling = TRUE</code> and <code>egg_size_scaling = TRUE</code>.</li>
<li>The functions <code>display_frames()</code>, <code>addSpecies()</code>, <code>setBackground()</code> and <code>retuneAbundance()</code> have been removed to the “mizerExperimental” package (<a href="https://sizespectrum.org/mizerExperimental" class="uri">https://sizespectrum.org/mizerExperimental</a>)</li>
<li>During runs of <code><a href="../reference/project.html">project()</a></code> a progress bar is displayed by default. You can turn this off with the option `progress_bar = FALSE.</li>
<li>Throughout mizer the term “plankton” has been replaced by “resource”, which affects the labelling of the resource spectrum in plots.</li>
</ul>
</div>
<div id="setting-up-models" class="section level2">
<h2 class="hasAnchor">
<a href="#setting-up-models" class="anchor"></a>Setting up models</h2>
<p>The new functions</p>
<ul>
<li><code><a href="../reference/newCommunityParams.html">newCommunityParams()</a></code></li>
<li><code><a href="../reference/newTraitParams.html">newTraitParams()</a></code></li>
<li><code><a href="../reference/newMultispeciesParams.html">newMultispeciesParams()</a></code></li>
</ul>
<p>replace the old functions <code><a href="../reference/set_community_model.html">set_community_model()</a></code>, <code><a href="../reference/set_trait_model.html">set_trait_model()</a></code> and <code><a href="../reference/MizerParams.html">MizerParams()</a></code>, which are now deprecated. The new functions choose better default values, in particular for metabolic rate and maximum intake rate.</p>
</div>
<div id="setting-model-parameters" class="section level2">
<h2 class="hasAnchor">
<a href="#setting-model-parameters" class="anchor"></a>Setting model parameters</h2>
<p>After setting up a mizer model, it is possible to change specific model parameters with the new functions</p>
<ul>
<li><code>species_params&lt;-()</code></li>
<li><code>resource_params&lt;-()</code></li>
<li><code>gear_params&lt;-()</code></li>
<li><code><a href="../reference/setPredKernel.html">setPredKernel()</a></code></li>
<li><code><a href="../reference/setSearchVolume.html">setSearchVolume()</a></code></li>
<li><code><a href="../reference/setInteraction.html">setInteraction()</a></code></li>
<li><code><a href="../reference/setMaxIntakeRate.html">setMaxIntakeRate()</a></code></li>
<li><code><a href="../reference/setMetabolicRate.html">setMetabolicRate()</a></code></li>
<li><code><a href="../reference/setExtMort.html">setExtMort()</a></code></li>
<li><code><a href="../reference/setReproduction.html">setReproduction()</a></code></li>
<li><code><a href="../reference/setFishing.html">setFishing()</a></code></li>
<li><code><a href="../reference/setResource.html">setResource()</a></code></li>
</ul>
<p>The new function <code><a href="../reference/setParams.html">setParams()</a></code> is a wrapper for all of the above functions and is also used when setting up a new model with <code><a href="../reference/newMultispeciesParams.html">newMultispeciesParams()</a></code>. (<a href='https://github.com/sizespectrum/mizer/issues/51'>#51</a>)</p>
<p>The documentation for these functions serves to explain the details of the mizer model.</p>
<p>Along with these setter functions there are accessor functions for getting the parameter arrays: <code><a href="../reference/getPredKernel.html">getPredKernel()</a></code>, <code><a href="../reference/setSearchVolume.html">getSearchVolume()</a></code>, <code><a href="../reference/setInteraction.html">getInteraction()</a></code>, <code><a href="../reference/setMaxIntakeRate.html">getMaxIntakeRate()</a></code>, <code><a href="../reference/setMetabolicRate.html">getMetabolicRate()</a></code>, <code><a href="../reference/setExtMort.html">getExtMort()</a></code>, <code><a href="../reference/setReproduction.html">getMaturityProportion()</a></code>, <code><a href="../reference/setReproduction.html">getReproductionProportion()</a></code>, <code><a href="../reference/setFishing.html">getCatchability()</a></code>, <code><a href="../reference/setFishing.html">getSelectivity()</a></code>, <code><a href="../reference/setResource.html">getResourceRate()</a></code>, <code><a href="../reference/setResource.html">getResourceCapacity()</a></code>, <code>getResourceParams()</code>, <code><a href="../reference/setResource.html">getResourceDynamics()</a></code>,</p>
<ul>
<li>Setting of the maximum reproduction rate has been separated out into new function <code><a href="../reference/setRmax.html">setRmax()</a></code>.</li>
</ul>
</div>
<div id="initial-values-and-steady-state" class="section level2">
<h2 class="hasAnchor">
<a href="#initial-values-and-steady-state" class="anchor"></a>Initial Values and steady state</h2>
<p>The MizerParams object now also contains the initial values for the size spectra. This is particularly useful if the model has been tuned to produce the observed steady state. The new function <code><a href="../reference/steady.html">steady()</a></code> finds a steady state for a model and sets it as the initial value. The initial values can be accessed and changed via functions <code><a href="../reference/initialN-set.html">initialN()</a></code> and <code><a href="../reference/initialNResource-set.html">initialNResource()</a></code>. The initial values can be set to the final values of a previous simulation with <code><a href="../reference/setInitialValues.html">setInitialValues()</a></code>.</p>
<p>The MizerParams object now has a slot <code>initial_effort</code> that specifies the initial fishing effort to which the steady state has been calibrated.</p>
</div>
<div id="extension-mechanisms" class="section level2">
<h2 class="hasAnchor">
<a href="#extension-mechanisms" class="anchor"></a>Extension mechanisms</h2>
<p>Mizer now has an extension mechanism that allows other R packages to be written to generalise the mizer model. See <code><a href="../reference/setRateFunction.html">setRateFunction()</a></code> and <code><a href="../reference/setComponent.html">setComponent()</a></code>. This mechanism is still experimental and may change as we gain experience in writing extensions for mizer.</p>
</div>
<div id="plotting" class="section level2">
<h2 class="hasAnchor">
<a href="#plotting" class="anchor"></a>Plotting</h2>
<ul>
<li>Every plot function now has a plotly version that makes the plot interactive using the plotly package. So for example there is <code><a href="../reference/plotBiomass.html">plotlyBiomass()</a></code> as the plotly version of <code><a href="../reference/plotBiomass.html">plotBiomass()</a></code>, and so on.</li>
<li>New <code><a href="../reference/plotGrowthCurves.html">plotGrowthCurves()</a></code> plots growth curves and compares them to the von Bertalanffy growth curve.</li>
<li>New <code><a href="../reference/plotDiet.html">plotDiet()</a></code> plots the diet composition as a function of predator size.</li>
<li>New <code>highlight</code> argument to all plot functions that display curves for multiple species. Displays highlighted species with wider lines.</li>
<li>In the legends of all plots the species are now consistently ordered in the same way as in the species parameter data frame.</li>
<li>All plot functions that are not time-resolved now accept also a MizerParams object as an alternative to the MizerSim object to plot the initial state.</li>
<li>New <code><a href="https://rdrr.io/r/graphics/plot.html">plot()</a></code> method for MizerParams object to plot the initial state.</li>
<li>Avoiding duplicate graphs in rmarkdown documents.</li>
<li>New argument <code>include_critical</code> in <code><a href="../reference/plotFeedingLevel.html">plotFeedingLevel()</a></code> allows to show also the critical feeding level.</li>
<li>New <code>wlim</code> argument to <code><a href="../reference/plotSpectra.html">plotSpectra()</a></code> in analogy to the existing <code>ylim</code> argument to limit the w range in the plot.</li>
<li>The colours used in plot functions can be set with <code><a href="../reference/setColours.html">setColours()</a></code>.</li>
<li>The default line type is <code>solid</code> but this can be changed via the <code><a href="../reference/setLinetypes.html">setLinetypes()</a></code> function.</li>
<li>Use colour and linetype for plots irrespective of the number of species.</li>
</ul>
</div>
<div id="general-predation-kernel" class="section level2">
<h2 class="hasAnchor">
<a href="#general-predation-kernel" class="anchor"></a>General predation kernel</h2>
<ul>
<li>Users can now replace the lognormal function in the predation kernel by a function of their choice, allowing a differently shaped kernel for each species.</li>
<li>New <code><a href="../reference/box_pred_kernel.html">box_pred_kernel()</a></code> implements a box-shaped kernel as an alternative to the default <code><a href="../reference/lognormal_pred_kernel.html">lognormal_pred_kernel()</a></code>.</li>
<li>New <code><a href="../reference/power_law_pred_kernel.html">power_law_pred_kernel()</a></code> implements a power-law kernel with sigmoidal cutoffs at both ends. This is suitable for filter feeders.</li>
<li>Users can sets a predation kernel that has a predator-size-dependent predator/prey mass ration (via <code><a href="../reference/setPredKernel.html">setPredKernel()</a></code>). Mizer automatically falls back on the old non-FFT code to handle this. (<a href='https://github.com/sizespectrum/mizer/issues/41'>#41</a>)</li>
<li>New <code><a href="../reference/getPredKernel.html">getPredKernel()</a></code> returns the full 3-dimensional predation kernel array, even when this is not stored in MizerParams object.</li>
</ul>
</div>
<div id="new-gear-setup" class="section level2">
<h2 class="hasAnchor">
<a href="#new-gear-setup" class="anchor"></a>New gear setup</h2>
<p>Now it is finally possible to have several gears (or fleets) targeting the same species. The information is set up via a new <code><a href="../reference/setFishing.html">gear_params()</a></code> data frame. See <code><a href="../reference/setFishing.html">setFishing()</a></code> for details.</p>
</div>
<div id="other-new-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#other-new-functions" class="anchor"></a>Other new functions</h2>
<ul>
<li>There are now accessor functions for all slots in the MizerParams and MizerSim objects. For example to get at the size grid and its spacing you would now use <code><a href="../reference/w.html">w()</a></code>, <code><a href="../reference/w.html">w_full()</a></code>, <code><a href="../reference/w.html">dw()</a></code>, <code><a href="../reference/w.html">dw_full()</a></code>.</li>
<li>New <code><a href="../reference/upgradeParams.html">upgradeParams()</a></code> and <code><a href="../reference/upgradeSim.html">upgradeSim()</a></code> can upgrade objects from previous versions of mizer so they work with the new version.</li>
<li>New <code><a href="../reference/getDiet.html">getDiet()</a></code> calculates the diet of predators. (<a href='https://github.com/sizespectrum/mizer/issues/43'>#43</a>)</li>
<li>Alternative functions <code><a href="../reference/RickerRDD.html">RickerRDD()</a></code> and <code><a href="../reference/SheperdRDD.html">SheperdRDD()</a></code> for density-dependence in reproduction, as well as <code><a href="../reference/noRDD.html">noRDD()</a></code> and <code><a href="../reference/constantRDD.html">constantRDD()</a></code>.</li>
<li>New gear selectivity function <code><a href="../reference/double_sigmoid_length.html">double_sigmoid_length()</a></code> allows modelling of escape of large individuals.</li>
<li>New gear selectivity function <code>sigmoidal_weight()</code> is weight-based trawl selectivity function. (Ken H Andersen)</li>
<li>New <code><a href="../reference/getGrowthCurves.html">getGrowthCurves()</a></code> calculates the growth curves (size at age).</li>
<li>New <code><a href="../reference/mizerRates.html">mizerRates()</a></code> calculates all the rates needed in the model and collects them in a list.</li>
<li>A convenience function <code><a href="../reference/times.html">times()</a></code> to extract the times at which simulation results are saved in a MizerSim object.</li>
<li>Convenience functions <code><a href="../reference/finalN.html">finalN()</a></code>, <code><a href="../reference/finalN.html">finalNResource()</a></code> and <code><a href="../reference/finalNOther.html">finalNOther()</a></code> as well as <code><a href="../reference/idxFinalT.html">idxFinalT()</a></code> to access the values at the final time of a simulation.</li>
<li>New function <code><a href="../reference/getCriticalFeedingLevel.html">getCriticalFeedingLevel()</a></code> returns the critical feeding level for each species at each size.</li>
<li>Mizer reexports the <code><a href="https://rdrr.io/pkg/reshape2/man/melt.html">melt()</a></code> function from the reshape2 package which allows users to convert the arrays returned by mizer functions into data frames that can be used for example in ggplot2 and plotly.</li>
<li>
<code><a href="../reference/validSpeciesParams.html">validSpeciesParams()</a></code> checks validity of species parameter data frame and sets defaults for missing but required parameters.</li>
</ul>
</div>
<div id="other-new-features" class="section level2">
<h2 class="hasAnchor">
<a href="#other-new-features" class="anchor"></a>Other new features</h2>
<ul>
<li>The allometric exponents <code>n</code>, <code>p</code> and <code>q</code> as well as the feeding level <code>f0</code> can now be set at the species level via columns in <code>species_params</code>.</li>
<li>The critical feeding level <code>fc</code> can now be specified as a species parameter and will be used to calculate the metabolic rate parameter <code>ks</code> if it is not supplied.</li>
<li>
<code><a href="../reference/project.html">project()</a></code> now shows a progress bar while a simulation is running. Can be turned off with <code>progress_bar = FALSE</code> argument.</li>
<li>Satiation can be switched off by setting the maximum intake rate to <code>Inf</code>.</li>
<li>Users can now set their own resource dynamics instead of the default <code><a href="../reference/resource_semichemostat.html">resource_semichemostat()</a></code>.</li>
<li>Different species can interact with resource with different strengths, or not feed on resource at all, controlled by an <code>interaction_resource</code> column in the species parameter data frame.</li>
<li>The steepness of the maturity ogive can now be controlled via a <code>w_mat25</code> column in the species parameter dataframe, which gives the size at which 25% of the individuals of a species are mature.</li>
<li>The scaling exponent for the allocation of energy into reproduction can now be set via the <code>m</code> column in the species parameter data frame.</li>
<li>
<code><a href="../reference/project.html">project()</a></code> can now continue projection from last time step of a previous simulation if the first argument is a MizerSim object. The new <code>append</code> argument then controls whether the new results are appended to the old.</li>
<li>Values for minimum resource size, and minimum and maximum consumer sizes are set automatically if not provided in <code><a href="../reference/newMultispeciesParams.html">newMultispeciesParams()</a></code>.</li>
<li>Default values for species parameters are used for missing values within a column in the species parameter data frame, not only if the column is missing entirely.</li>
<li>Rate functions take defaults for their <code>n</code>, <code>n_pp</code> and <code>n_other</code> arguments from the initial values in the <code>params</code> argument.</li>
<li>New <code>perfect_scaling</code> argument allows <code><a href="../reference/newTraitParams.html">newTraitParams()</a></code> to produce a perfectly scale-invariant model.</li>
<li>A new <code>ext_mort_prop</code> argument in <code><a href="../reference/newTraitParams.html">newTraitParams()</a></code> allows the inclusion of external mortality.</li>
<li>Added a data file<code>NS_params</code> with the North Sea model MizerParams object.</li>
<li>Comments can be added to MizerParams objects and any of their slots. Slots that have comments are protected from being overwritten with allometric defaults.</li>
<li>Gear selectivity functions now can use the species parameters.</li>
</ul>
</div>
<div id="documentation" class="section level2">
<h2 class="hasAnchor">
<a href="#documentation" class="anchor"></a>Documentation</h2>
<ul>
<li>Mizer now has a documentation website at <a href="https://sizespectrum.org/mizer/" class="uri">https://sizespectrum.org/mizer/</a> for the latest released version and at <a href="https://sizespectrum.org/mizer/dev" class="uri">https://sizespectrum.org/mizer/dev</a> for the development version. (<a href='https://github.com/sizespectrum/mizer/issues/48'>#48</a>)</li>
<li>The help pages of mizer functions has been extended massively, see for example the help for <code><a href="../reference/newMultispeciesParams.html">newMultispeciesParams()</a></code>.</li>
<li>The vignette chapters are shown as pages on the website.</li>
<li>The html help pages for plotting functions now show example plots.</li>
<li>Clarified that mizer uses grams and years as size and time units and is agnostic about whether abundances are per area, per volume or per study area. (<a href='https://github.com/sizespectrum/mizer/issues/42'>#42</a>)</li>
<li>Added a tutorial on using ggplot2 and plotly with mizer.</li>
<li>Added a tutorial on working with git and GitHub for mizer development.</li>
<li>Added a FAQ page for developers.</li>
<li>Added a unit test to automatically run a spell check on documentation.</li>
<li>Renamed some functions for consistency and to make them easier to understand, but kept old names as aliases for backwards compatibility:
<ul>
<li>
<code>getmM2()</code> -&gt; <code><a href="../reference/getPredMort.html">getPredMort()</a></code>
</li>
<li>
<code>plotM2</code> -&gt; <code><a href="../reference/plotPredMort.html">plotPredMort()</a></code>
</li>
<li>
<code>getM2background()</code> -&gt; <code><a href="../reference/getResourceMort.html">getResourceMort()</a></code>
</li>
<li>
<code><a href="../reference/getZ.html">getZ()</a></code> -&gt; <code><a href="../reference/getMort.html">getMort()</a></code>
</li>
<li>
<code><a href="../reference/getESpawning.html">getESpawning()</a></code> -&gt; <code><a href="../reference/getERepro.html">getERepro()</a></code>
</li>
<li>
<code><a href="../reference/MizerParams.html">MizerParams()</a></code> -&gt; <code><a href="../reference/emptyParams.html">emptyParams()</a></code> or <code><a href="../reference/set_multispecies_model.html">set_multispecies_model()</a></code>
</li>
</ul>
</li>
<li>Renamed maximum reproductive rate from <code>r_max</code> to <code>R_max</code>.</li>
<li>Updated list of publications (<a href='https://github.com/Kenhasteandersen'>@Kenhasteandersen</a>)</li>
<li>Using Rmarkdown in all roxygen comments</li>
</ul>
</div>
<div id="bug-fixes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-1" class="anchor"></a>Bug fixes</h2>
<ul>
<li>In <code><a href="../reference/getSSB.html">getSSB()</a></code>, the calculation of the spawning stock biomass is done correctly using the maturity ogive instead of the proportion of energy allocated to reproduction. (<a href='https://github.com/sizespectrum/mizer/issues/47'>#47</a>)</li>
<li>The fast FFT method and the old method for calculating integrals now give the same numerical results. (<a href='https://github.com/sizespectrum/mizer/issues/39'>#39</a>)</li>
<li>
<code><a href="../reference/getEncounter.html">getEncounter()</a></code> and <code><a href="../reference/getPredRate.html">getPredRate()</a></code> now set names on the returned arrays.</li>
<li>Resource carrying capacity for scale-invariant model is calculated in a way that reduces rounding errors.</li>
<li>Avoids potential problems with negative numbers due to numerical errors.</li>
<li>Consistently cutting off predation kernel at 0 and beta + 3 sigma.</li>
<li>The <code>ylim</code> argument is not handled correctly in plots.</li>
<li>
<code>display_frame()</code> is now exported.</li>
<li>plotGrowthCurves() and getGrowthCurves() also works when there is only a single species</li>
<li>t_start argument in project() is used correctly</li>
<li>times are not truncated at 3 significant figures, because that would not allow something like 2019.</li>
<li>get_initial_n() gets values for n and q from params object</li>
<li>
<code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> of MizerParams object reflects the number of non-empty resource bins. (<a href='https://github.com/patricksykes'>@patricksykes</a>)</li>
</ul>
</div>
<div id="under-the-hood" class="section level2">
<h2 class="hasAnchor">
<a href="#under-the-hood" class="anchor"></a>Under the hood</h2>
<ul>
<li>Now using vdiffr package to test plots.</li>
<li>Converted all S4 methods to functions to decrease the learning curve for new developers.</li>
<li>The calculation of defaults is now handled by new <code><a href="../reference/get_gamma_default.html">get_gamma_default()</a></code>, <code><a href="../reference/get_h_default.html">get_h_default()</a></code> and <code><a href="../reference/get_ks_default.html">get_ks_default()</a></code>, making it easier to change or extend these in the future.</li>
<li>Helper function <code><a href="../reference/set_species_param_default.html">set_species_param_default()</a></code> makes it easier to set default values for species parameters.</li>
<li>Simplified FFT calculations are more readable.</li>
<li>Using <code>@inherit</code> functionality of roxygen2 to reduce duplication in roxygen documentation.</li>
<li>Using `@family’ to group function documentation pages.</li>
<li>The helper functions are now documented and exported.</li>
<li>
<code><a href="../reference/getPhiPrey.html">getPhiPrey()</a></code> is replaced by <code><a href="../reference/getEncounter.html">getEncounter()</a></code> which now returns the full encounter rate, including the contribution from other components. Even in the absence of other components, <code><a href="../reference/getEncounter.html">getEncounter()</a></code> differs from the old <code><a href="../reference/getPhiPrey.html">getPhiPrey()</a></code> because it includes the search volume factor.</li>
<li>Changed naming convention: user-facing function names are now in camelCase.</li>
<li>Consistently use <code>params</code> to refer to an argument of class MizerParams, <code>sim</code> to refer to an argument of class MizerSim, and <code>object</code> to an argument that can be either.</li>
<li>Updated the calls to <code>setClass()</code> to follow the new guidelines, replacing <code>representation</code> by <code>class</code> and removing <code>prototype</code> and <code>validity</code>.</li>
<li>Added numerical tests.</li>
<li>Using assert_that to check arguments to functions more often.</li>
<li>Argument <code>shiny_progress</code> renamed to <code>progress_bar</code> because they control any type of progress bar.</li>
<li>In documentation renamed “background” and “plankton” consistently to “resource”.</li>
<li>Using <code><a href="https://rdrr.io/r/base/outer.html">outer()</a></code> instead of <code><a href="https://rdrr.io/r/base/tapply.html">tapply()</a></code> where possible to improve readability.</li>
<li>Avoiding use of <code>hasArg()</code> and <code><a href="https://rdrr.io/r/base/NA.html">anyNA()</a></code> because they were not available in R 3.1</li>
<li>A more robust code for setting up the size grids.</li>
<li>Improved consistency of when to issue warnings and when to issue messages.</li>
<li>Split large code files into smaller files.</li>
<li>Changes to MizerParams class:
<ul>
<li>Merged <code>@std_metab</code> and <code>@activity</code> slots into a single <code>@metab</code> slot.</li>
<li>Moved <code>@w_min_idx</code> out of <code>@species_params</code> into its own slot.</li>
<li>Added slot <code>@maturity</code> to hold the maturity ogive.</li>
<li>Added slot <code>@pred_kernel</code> to hold predation kernel if it has variable predator/prey ratio.</li>
<li>Added slot <code>@resource_dynamics</code> to allow user to specify alternative resource dynamics.</li>
<li>Added slot <code>@gear_dynamics</code> to species to be targeted by multiple gears.</li>
<li>Added slot <code>@ft_mask</code> that is used when calculating predation rates using the Fourier transform method.</li>
<li>Added slot <code>@rates_funcs</code> to allow mizer extensions to replace mizer rate functions with their own rate functions.</li>
<li>Instead of the function in the slot <code>@srr</code> we now have the name of the function in <code>@rate_funcs$RDD</code>, see <a href='https://github.com/sizespectrum/mizer/issues/91'>#91</a>.</li>
<li>Added slots <code>@other_dynamics</code>, <code>@other_params</code>, <code>@other_encounter</code>, <code>@other_mort</code> and <code>@initial_n_other</code> to allow mizer extensions to add more ecosystem components.</li>
</ul>
</li>
</ul>
</div>
</div>
    <div id="mizer-101" class="section level1">
<h1 class="page-header" data-toc-text="1.0.1">
<a href="#mizer-101" class="anchor"></a>mizer 1.0.1<small> 2019-01-27 </small>
</h1>
<ul>
<li>Now compatible with older versions of R &gt; 3.1.0.</li>
<li>Skipping a test on CRAN that fails on some machines with different precision.</li>
<li>Fixing minor typos in documentation.</li>
</ul>
</div>
    <div id="mizer-10" class="section level1">
<h1 class="page-header" data-toc-text="1.0">
<a href="#mizer-10" class="anchor"></a>mizer 1.0<small> 2018-05-01 </small>
</h1>
<ul>
<li>Fixed bugs in how the start time of a simulation was handled. This leads to small corrections, so that the output of this version is slightly different from previous versions.</li>
<li>Introduced a scale-invariant trait-based model, set up with <code>set_scaling_model()</code>, see section 12 in the vignette.</li>
<li>Added a function that adds news species to a scale-invariant background, and computes an approximately steady state close to the power law, see section 13 in the vignette.</li>
<li>Created an example shiny app to allow people to use mizer through a web browser without having to install mizer. The app explores the effect of more selective fishing gear in a case study.</li>
<li>Improvements to plots:
<ul>
<li>Added units to axes</li>
<li>Added function for plotting growth curves</li>
<li>
<code>PlotYield()</code> no longer fails when species names are numbers or when a species abundance is zero</li>
<li>Added a <code>total</code> parameter to several plot functions to add the curve for the total community (sum over all species and resource)</li>
<li>Added a <code>species</code> parameter to all plot functions to allow for only a selection of species to be plotted</li>
<li>Allow the number of ticks on y-axis in biomass plot to be controlled</li>
</ul>
</li>
<li>Allow for size- and species-dependent background death.</li>
<li>Add <code>@initial_n</code> and <code>@initial_n_pp</code> slots to MizerParams class.</li>
<li>Now checking that effort times are increasing.</li>
<li>Corrections in the documentation.</li>
<li>Improvements to the vignette.</li>
<li>Add a test of the numeric solution against an analytic solution.</li>
</ul>
</div>
    <div id="mizer-04" class="section level1">
<h1 class="page-header" data-toc-text="0.4">
<a href="#mizer-04" class="anchor"></a>mizer 0.4<small> 2017-12-14 </small>
</h1>
<ul>
<li>Improvements made to the speed by evaluating convolution sums via fft, removing the bottlenecks in <code><a href="../reference/getPhiPrey.html">getPhiPrey()</a></code> and <code><a href="../reference/getPredRate.html">getPredRate()</a></code>.</li>
<li>Using C++ for the inner loop in the project method for extra speed.</li>
<li>Minor corrections to vignette and documentation to bring them into alignment and to document the new home on GitHub and new maintainers.</li>
</ul>
</div>
    <div id="mizer-03" class="section level1">
<h1 class="page-header" data-toc-text="0.3">
<a href="#mizer-03" class="anchor"></a>mizer 0.3<small> Unreleased </small>
</h1>
<ul>
<li>Improvements made to the speed of the simulations. Remaining bottle necks are the sweep statements in <code><a href="../reference/getPhiPrey.html">getPhiPrey()</a></code> and <code><a href="../reference/getPredRate.html">getPredRate()</a></code>.</li>
<li>Moved tests to new suggested folder.</li>
<li>Minor changes to documentation to pass new check requirements.</li>
</ul>
</div>
    <div id="mizer-02" class="section level1">
<h1 class="page-header" data-toc-text="0.2">
<a href="#mizer-02" class="anchor"></a>mizer 0.2<small> 2014-04-16 </small>
</h1>
<ul>
<li>Release to coincide with the submission of the MEE paper. No major changes. Just minor bug fixes.</li>
</ul>
</div>
    <div id="mizer-01" class="section level1">
<h1 class="page-header" data-toc-text="0.1">
<a href="#mizer-01" class="anchor"></a>mizer 0.1<small> 2013-10-08 </small>
</h1>
<ul>
<li>Beta release - just about works but still some gremlins to sort out. There are a number of features I’d like to add in the coming releases.</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://www.york.ac.uk/maths/staff/gustav-delius/'>Gustav Delius</a>, Finlay Scott, <a href='http://www.utas.edu.au/profiles/staff/imas/julia-blanchard'>Julia Blanchard</a>, <a href='https://ken.haste.dk/'>Ken Andersen</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


