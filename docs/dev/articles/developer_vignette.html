<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Developer Guide • mizer</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Developer Guide">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mizer</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">2.5.1.9003</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/mizer.html">Get started</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mizer.course.sizespectrum.org">Course</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/model_description.html">The General Mizer Size-spectrum Model</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Tutorials</h6></li>
    <li><a class="dropdown-item" href="../articles/single_species_size-spectrum_dynamics.html">Single-species size-spectrum dynamics</a></li>
    <li><a class="dropdown-item" href="../articles/community_model.html">The Community Model</a></li>
    <li><a class="dropdown-item" href="../articles/trait_model.html">The Trait-Based Model</a></li>
    <li><a class="dropdown-item" href="../articles/multispecies_model.html">The Multi Species Model</a></li>
    <li><a class="dropdown-item" href="../articles/running_a_simulation.html">Running a Simulation</a></li>
    <li><a class="dropdown-item" href="../articles/exploring_the_simulation_results.html">Exploring the Simulation Results</a></li>
    <li><a class="dropdown-item" href="../articles/a_multispecies_model_of_the_north_sea.html">A Multi-Species Model of the North Sea</a></li>
    <li><a class="dropdown-item" href="../articles/plotting.html">Using ggplot2 and plotly with mizer</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Publications</h6></li>
    <li><a class="dropdown-item" href="../articles/publications.html">Publications</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>For developers</h6></li>
    <li><a class="dropdown-item" href="../articles/developer_vignette.html">Developer Guide</a></li>
    <li><a class="dropdown-item" href="../articles/working_with_git.html">Working with git and GitHub</a></li>
    <li><a class="dropdown-item" href="../articles/developer_FAQ.html">Developer FAQ</a></li>
    <li><a class="dropdown-item" href="../articles/editing_website.html">Editing the Mizer Website</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://blog.mizer.sizespectrum.org">Blog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://twitter.com/mizer_model" aria-label="Twitter"><span class="fa fab fa-twitter fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sizespectrum/mizer/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Developer Guide</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/sizespectrum/mizer/blob/HEAD/vignettes/developer_vignette.Rmd" class="external-link"><code>vignettes/developer_vignette.Rmd</code></a></small>
      <div class="d-none name"><code>developer_vignette.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This guide is for you if you need to extend mizer to meet the needs
of your research project. You will already have read the mizer model
description in <code><a href="../articles/model_description.html">vignette("model_description")</a></code> and thus be
familiar with what mizer can do out of the box. You now want to
implement the extension or modification of the model required for your
research, and for that you need to dive into the internal workings of
mizer. This guide is meant to make that as easy as possible.</p>
<p>The first thing you should do, even before reading this guide, is to
go to <a href="https://github.com/sizespectrum/mizer/issues" class="external-link uri">https://github.com/sizespectrum/mizer/issues</a> and create
a new “issue”” to share your ideas and plans with the mizer community.
You may get back valuable feedback and advice. Another way to get in
touch with the mizer community is via the <a href="https://groups.google.com/forum/#!forum/size-spectrum-models" class="external-link">size-spectrum
modelling Google group</a>.</p>
</div>
<div class="section level2">
<h2 id="setting-up-working-environment">Setting up working environment<a class="anchor" aria-label="anchor" href="#setting-up-working-environment"></a>
</h2>
<p>In this section we describe how to set up your working environment to
allow you to easily work with the mizer code. Much of it you may already
have in place, so feel free to skip ahead.</p>
<div class="section level3">
<h3 id="installing-r-rstudio-and-git">Installing R, RStudio and Git<a class="anchor" aria-label="anchor" href="#installing-r-rstudio-and-git"></a>
</h3>
<p>Mizer is compatible with <strong>R</strong> versions 3.1 and later.
If you still need to <a href="https://cran.r-project.org/" class="external-link">install
R</a>, simply install the latest version. This guide was prepared with R
version 4.4.1 (2024-06-14).</p>
<p>This guide assumes that you will be using <strong>RStudio</strong> to
work with R. There is really no reason not to use RStudio and it makes a
lot of things much easier. RStudio develops rapidly and adds useful
features all the time and so it pays to upgrade to the <a href="https://www.rstudio.com/products/rstudio/download/preview/" class="external-link">latest
version</a> frequently. This guide was written with version
1.2.1268.</p>
<p>Mizer is developed using the version control system
<strong>Git</strong> and the code is hosted on GitHub. To contribute to
the mizer code, you need to have the Git software installed on your
system. On most Linux machines it will be installed already, but on
other platforms you need to <a href="http://happygitwithr.com/install-git.html" class="external-link">install it</a>. You do
not need to install any GUI for git because RStudio has <a href="https://support.rstudio.com/hc/en-us/articles/200532077-Version-Control-with-Git-and-SVN" class="external-link">built-in
support for git</a>. A good place to learn about using Git and GitHub is
<a href="http://r-pkgs.had.co.nz/git.html" class="external-link">this chapter</a> in the guide
by Hadley on R package development.</p>
</div>
<div class="section level3">
<h3 id="forking-mizer-from-github">Forking mizer from GitHub<a class="anchor" aria-label="anchor" href="#forking-mizer-from-github"></a>
</h3>
<p>To work with the code you will create your own git repository with a
copy of the mizer code. Go to <a href="https://github.com/sizespectrum/mizer" class="external-link uri">https://github.com/sizespectrum/mizer</a> and fork it into
your own repository by clicking the “Fork” button.</p>
<center>
<img src="images/fork.png" style="width:80.0%">
</center>
<p>You will be prompted to log in to GitHub. If you do not yet have an
account, you need to create one for yourself.</p>
<p>Once you have your own fork of the mizer repository, you create a
local copy on whichever machine you work on. You can do this from within
RStudio. For this you click on the “Project” drop-down and then select
“New Project…”.</p>
<center>
<img src="images/new_project.png" style="width:80.0%">
</center>
This will bring up a dialog box where you select “Version Control”.
<center>
<img src="images/version_control.png" style="width:50.0%">
</center>
<p>Provided you have Git installed and RStudio was able to find it you
can then choose “Git” on the next dialog box.</p>
<center>
<img src="images/git.png" style="width:50.0%">
</center>
<p>If the Git option is not showing, the you need to troubleshoot, and
perhaps <a href="https://happygitwithr.com/rstudio-see-git.html" class="external-link uri">https://happygitwithr.com/rstudio-see-git.html</a>
helps.</p>
In the next dialog box you let RStudio know where to find your fork.
<center>
<img src="images/repository.png" style="width:50.0%">
</center>
To find the correct repository URL you go back to GitHub to the front
page of the repository that was created when you forked the official
mizer repository. There you will find a “Clone or download” button which
when clicked will reveal the repository URL. Make sure that you are on
the page of your fork of the repository. The URL should contain your
GitHub username.
<center>
<img src="images/repro_url.png" style="width:80.0%">
</center>
<p>You can copy that to the clipboard by pressing the button next to the
URL and then paste it back into the RStudio dialog box. In that dialog
box you can also change where RStudio stores the repository on your
machine. Choose anywhere convenient. Then click “Create Project”.</p>
</div>
<div class="section level3">
<h3 id="setting-up-rstudio-developer-tools">Setting up RStudio developer tools<a class="anchor" aria-label="anchor" href="#setting-up-rstudio-developer-tools"></a>
</h3>
<p>To work with R packages as a developer, you will need to <a href="https://support.rstudio.com/hc/en-us/articles/200486498-Package-Development-Prerequisites" class="external-link">install
additional tools</a>.</p>
<p>Once you have these tools in place, you should install the devtools
and roxygen2 packages with</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"devtools"</span>, <span class="st">"roxygen2"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>You are now all set to develop R packages, and <a href="https://support.rstudio.com/hc/en-us/articles/200486488-Developing-Packages-with-RStudio" class="external-link">RStudio
makes this extra easy</a>. There is even a cheat sheet “Package
Development with devtools” accessible from the Help menu in RStudio.</p>
<p>To set things up, click on Build -&gt; More -&gt; Configure Build
Tools.</p>
<center>
<img src="images/build_tools.png">
</center>
<p>In the resulting dialog box, tick the checkboxes “Use devtools
package functions if available” and “Generate documentation with
roxygen” and then click on “Configure”.</p>
<center>
<img src="images/roxygen.png" style="width:50.0%">
</center>
<p>This will open another dialog box where you tick “Install and
Restart”.</p>
<center>
<img src="images/tick.png" style="width:40.0%">
</center>
<p>Hit “OK”. While you are on the Project Options dialog box, click on
“Code Editing” and then check “Insert spaces for tabs” and set “Tab
width” to 4, because that is the convention the mizer code follows.</p>
<center>
<img src="images/tabs.png" style="width:50.0%">
</center>
</div>
<div class="section level3">
<h3 id="usethis-package">usethis package<a class="anchor" aria-label="anchor" href="#usethis-package"></a>
</h3>
<p>Many useful commands for working with packages and with GitHub are
provided by the <a href="https://usethis.r-lib.org/" class="external-link">usethis</a>
package, which is automatically installed along with devtools. The
package comes with a useful vignette with suggestions for <a href="https://usethis.r-lib.org/articles/articles/usethis-setup.html" class="external-link">how
to set things up</a> most conveniently.</p>
</div>
<div class="section level3">
<h3 id="installing-mizer">Installing mizer<a class="anchor" aria-label="anchor" href="#installing-mizer"></a>
</h3>
<p>You are now ready to install the mizer package using the development
code from GitHub. First you should do this with the command</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"sizespectrum/mizer"</span><span class="op">)</span></span></code></pre></div>
This will automatically also install all the other packages that mizer
depends on. However this uses the version of the code in the official
mizer repository on GitHub, not your local copy of the code. Once you
have made changes to your local code, you will want to install mizer
using that code. To do this go to the “Build” tab in RStudio and click
on “Install and Restart” or alternatively use the keyboard shortcut
Ctrl+Shift+B.
<center>
<img src="images/build.png">
</center>
<p>You can watch the progress in the “Build” tab. Once the build has
completed, you will see that in the console RStudio automatically
runs</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sizespectrum.org/mizer/">mizer</a></span><span class="op">)</span></span></code></pre></div>
<p>to load you freshly built mizer package. You will want to click
“Install and Restart” whenever you have changed your local code.</p>
</div>
</div>
<div class="section level2">
<h2 id="working-with-git">Working with git<a class="anchor" aria-label="anchor" href="#working-with-git"></a>
</h2>
<p>You will be making your code changes in your fork of the mizer code
(we are using the so-called Fork &amp; Pull model). From time to time
you will want to interact with the main mizer repository in two
ways:</p>
<ol style="list-style-type: decimal">
<li><p>You will want to contribute some of your code back to the mizer
project, so that it benefits others and also so that it gets
automatically included in future releases.</p></li>
<li><p>You will want to be able to merge new developments made in mizer
by others into your code base.</p></li>
</ol>
<p>This interaction is made possible with git and GitHub.</p>
<p>It initially takes a bit of effort to get the hang of how this works.
Therefore we have created a little tutorial “<a href="working_with_git.html">Working with git and GitHub</a>” with an
exercise that will take you through all the necessary steps. Unless you
are already very familiar with git and GitHub, it will be worthwhile for
you to work through that tutorial now.</p>
</div>
<div class="section level2">
<h2 id="contributor-guidelines">Contributor guidelines<a class="anchor" aria-label="anchor" href="#contributor-guidelines"></a>
</h2>
<div class="section level3">
<h3 id="coding-style">Coding style<a class="anchor" aria-label="anchor" href="#coding-style"></a>
</h3>
<p><a href="https://google.github.io/styleguide/Rguide.xml" class="external-link">Google’s R
Style Guide</a></p>
<p><a href="http://style.tidyverse.org/" class="external-link">The tidyverse style
guide</a></p>
</div>
<div class="section level3">
<h3 id="always-write-tests-for-your-code">Always write tests for your code<a class="anchor" aria-label="anchor" href="#always-write-tests-for-your-code"></a>
</h3>
<p>We use <a href="http://testthat.r-lib.org/" class="external-link">testthat</a> and <a href="https://rstudio.github.io/shinytest/articles/shinytest.html" class="external-link">shinytest</a>.
The test are in the directory <code>tests/testthat</code>.</p>
<p>Some tests compare the results of calculations to the results the
code gave in the past, using the
<code><a href="https://testthat.r-lib.org/reference/expect_known_output.html" class="external-link">testthat::expect_known_value()</a></code> test. The past values are
stored in tests/testthat/values. If one of the tests gives a value that
is different from the stored value, then the test throws an error
<em>and</em> overwrites the stored value with the new result. The second
time the test is run, it then no longer fails. Luckily the original
values will still be in the git repository. So after you think you have
fixed the error that led to the wrong result, you should revert to the
old stored values before re-running the test. Reverting to the old
stored values is easy: Just go to the Git tab in RStudio, select the
changed files in <code>tests/testthat/values</code> (select, not tick),
then right-click and choose Revert.</p>
<p>It may be that the change in the result of a calculation is intended,
perhaps because your new code is more accurate than the old code. If you
are 100% certain of this, but only then, should you commit the changed
files in tests/testthat/values, so that these new values form the basis
of future comparison tests.</p>
<p>Plots are tested with the <a href="http://vdiffr.r-lib.org/" class="external-link">vdiffr</a> package. When a plot has
changed, you should run vdiffr::manage_cases(), which will start a shiny
gadget where you can view the changes in the plot.</p>
</div>
</div>
<div class="section level2">
<h2 id="finding-your-way-around-the-mizer-code">Finding your way around the mizer code<a class="anchor" aria-label="anchor" href="#finding-your-way-around-the-mizer-code"></a>
</h2>
<p>This section is still in an early stage of development.</p>
<p>Mizer is organised in a modular fashion. It is separated into setup
functions, simulation functions, and analysis and plotting
functions.</p>
<p>There are several different functions for setting up a
<code>MizerParams</code> object for specifying various concrete models.
These setup functions make various simplifying assumptions about the
model parameters to reduce the amount of information that needs to be
specified. This usually takes the form of assuming allometric scaling
laws.</p>
<p>The core of mizer is the <code><a href="../reference/project.html">project()</a></code> function that runs a
simulation of the size-spectrum model. It takes a specification of the
model contained in an object of type <code>MizerParams</code> and
returns the results of the simulation in an object of type
<code>MizerSim</code>.</p>
<p>There are many functions for analysing and plotting the results of a
mizer simulation contained in a <code>MizerSim</code> object.</p>
<p>The <code>MizerParams</code> and <code>MizerSim</code> objects are S4
objects, meaning that their slots are rigorously defined and are
accessed with the ‘@’ notation. You do not need to learn about S4
classes in order to understand the mizer code, because the code avoids
using S4 methods. In the presentation below we assume that the
<code>MizerParams</code> object is called <code>params</code> and the
<code>MizerSim</code> object is called <code>sim</code>.</p>
<div class="section level3">
<h3 id="the-mizerparams-class">The MizerParams class<a class="anchor" aria-label="anchor" href="#the-mizerparams-class"></a>
</h3>
<p>An object of class ‘MizerParams’ holds all the information needed for
the ‘project()’ function to simulate a model.</p>
<div class="section level4">
<h4 id="adding-a-new-slot">Adding a new slot<a class="anchor" aria-label="anchor" href="#adding-a-new-slot"></a>
</h4>
<p>If you need to add a new slot to the MizerParams class, you need to
make the following additions in the file
<code>MizerParams-class.R</code>:</p>
<ol style="list-style-type: decimal">
<li>Go to the section “Class definition” and add a description of you
new slot with <span class="citation">@slot</span>.</li>
<li>Add an entry in the <code>slots</code> list inside
<code>setClass</code>.</li>
<li>In the function <code><a href="../reference/emptyParams.html">emptyParams()</a></code> go to the section “Make
object” and inside the call to <code>new()</code> provide a default
value for your slot. If your slot holds an array, then it is
conventional in mizer to already give it the correct dimensions and
dimnames here, if possible.</li>
</ol>
<p>What exactly to put into these places is usually clear in analogy to
what is already there for other similar slots.</p>
<!--

## The project methods

## The MizerSim object

## Shiny apps



-->
</div>
</div>
</div>
<div class="section level2">
<h2 id="condition-handling-system">Condition handling system<a class="anchor" aria-label="anchor" href="#condition-handling-system"></a>
</h2>
<p>Mizer should make good use of R’s condition handling system, which is
well described at <a href="https://adv-r.hadley.nz/conditions.html" class="external-link uri">https://adv-r.hadley.nz/conditions.html</a>. Currently this
is being only in a small number of places in the code. Search the code
for <code>signal()</code> and <code><a href="https://rdrr.io/r/base/conditions.html" class="external-link">withCallingHandlers()</a></code> to find
those places.</p>
<div class="section level3">
<h3 id="framework-for-informing-users-about-defaults">Framework for informing users about defaults<a class="anchor" aria-label="anchor" href="#framework-for-informing-users-about-defaults"></a>
</h3>
<p>Mizer’s strength is that it can choose default values for most
parameters, so that the user needs to supply only very limited
information to create a viable MizerParams object. The downside of that
is that the user may rely on this too much and may not have enough
information about the quality of the defaults.</p>
<p>Currently mizer issues some messages to the user when it calculates
defaults. But this is minimal in order not to overload the user who does
not need the extra information.</p>
<p>I would like the functions that calculate defaults to issue
information freely, and the wrapper functions around these to decide
what of this information should be shown to the user. Functions like
<code><a href="../reference/newMultispeciesParams.html">newMultispeciesParams()</a></code> could get an extra
<code>info_level</code> argument that allows the user to control the
amount of information shown.</p>
<p>There will be a function to signal information:</p>
<pre><code><span><span class="va">info_about_default</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">message</span>, <span class="va">var</span>, <span class="va">level</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu">signal</span><span class="op">(</span><span class="va">message</span>, class <span class="op">=</span> <span class="st">"info_about_default"</span>, var <span class="op">=</span> <span class="va">var</span>, level <span class="op">=</span> <span class="va">level</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre>
<p>and functions like <code><a href="../reference/newMultispeciesParams.html">newMultispeciesParams()</a></code> will get
extra code like the following:</p>
<pre><code><span><span class="co"># Define a signal handler that collects the information signals</span></span>
<span><span class="co"># into the `infos` list.</span></span>
<span><span class="va">infos</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">collect_info</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">cnd</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">cnd</span><span class="op">$</span><span class="va">level</span> <span class="op">&gt;=</span> <span class="va">info_level</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">infos</span><span class="op">[[</span><span class="va">cnd</span><span class="op">$</span><span class="va">var</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;&lt;-</span> <span class="va">cnd</span><span class="op">$</span><span class="va">message</span></span>
<span>  <span class="fu">cnd_muffle</span><span class="op">(</span><span class="va">cnd</span><span class="op">)</span> <span class="co"># So this info will not be repeated higher up</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span><span class="co"># Register this signal handler</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">withCallingHandlers</a></span><span class="op">(</span></span>
<span>  info_about_default <span class="op">=</span> <span class="va">collect_info</span></span>
<span></span>
<span>  <span class="co"># Here goes the existing code of the function</span></span>
<span></span>
<span><span class="op">)</span></span>
<span><span class="co"># Here goes some code to process the list `infos` to create</span></span>
<span><span class="co"># a useful narrative for the user.</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="defaults-editions">Defaults editions<a class="anchor" aria-label="anchor" href="#defaults-editions"></a>
</h2>
<p>The mizer functions for creating new models make a lot of choices for
default values for parameters that are not provided by the user.
Sometimes we find better ways to choose the defaults and update mizer
accordingly. When we do this, we will increase the edition number. The
mechanism is described in the help page of
<code><a href="../reference/defaults_edition.html">defaults_edition()</a></code>.</p>
<p>We are currently on default edition 1.</p>
<p>To find which defaults are different in different editions simply
search for conditionals involving <code><a href="../reference/defaults_edition.html">defaults_edition()</a></code> in the
code.</p>
</div>
<div class="section level2">
<h2 id="specialised-topics">Specialised topics<a class="anchor" aria-label="anchor" href="#specialised-topics"></a>
</h2>
<div class="section level3">
<h3 id="size-of-git-repo">Size of git repo<a class="anchor" aria-label="anchor" href="#size-of-git-repo"></a>
</h3>
<p>We should try to avoid committing too many very large files to the
git repository, because the larger the repository the longer it takes to
download. Currently (September 2019) the repository is still at a
manageable 110 MiB. The best way to check the size of the repository is
with the git-sizer, see <a href="https://github.com/github/git-sizer/" class="external-link uri">https://github.com/github/git-sizer/</a></p>
<p>We are currently storing the mizer website in the mizer repository
(in the docs subdirectory). That is convenient, partly because that is
where pkgdown puts it by default and GitHub serves it from there.
However in the future we might consider moving the website to its own
repository.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.york.ac.uk/maths/staff/gustav-delius/" class="external-link">Gustav Delius</a>, Finlay Scott, <a href="http://www.utas.edu.au/profiles/staff/imas/julia-blanchard" class="external-link">Julia Blanchard</a>, <a href="https://ken.haste.dk/" class="external-link">Ken Andersen</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
