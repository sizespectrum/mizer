<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Set fishing parameters — setFishing • mizer</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Set fishing parameters — setFishing" />
<meta property="og:description" content="Set fishing parameters" />
<meta property="og:image" content="https://sizespectrum.org/mizer/logo.png" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mizer</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">2.2.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/mizer.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="divider"></li>
    <li class="dropdown-header">Tutorials</li>
    <li>
      <a href="../articles/single_species_size-spectrum_dynamics.html">Single-species size-spectrum dynamics</a>
    </li>
    <li>
      <a href="../articles/model_description.html">The General Mizer Size-spectrum Model</a>
    </li>
    <li>
      <a href="../articles/community_model.html">The Community Model</a>
    </li>
    <li>
      <a href="../articles/trait_model.html">The Trait-Based Model</a>
    </li>
    <li>
      <a href="../articles/multispecies_model.html">The Multi Species Model</a>
    </li>
    <li>
      <a href="../articles/running_a_simulation.html">Running a Simulation</a>
    </li>
    <li>
      <a href="../articles/exploring_the_simulation_results.html">Exploring the Simulation Results</a>
    </li>
    <li>
      <a href="../articles/a_multispecies_model_of_the_north_sea.html">A Multi-Species Model of the North Sea</a>
    </li>
    <li>
      <a href="../articles/plotting.html">Using ggplot2 and plotly with mizer</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Publications</li>
    <li>
      <a href="../articles/publications.html">Publications</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">For developers</li>
    <li>
      <a href="../articles/developer_vignette.html">Developer Guide</a>
    </li>
    <li>
      <a href="../articles/working_with_git.html">Working with git and GitHub</a>
    </li>
    <li>
      <a href="../articles/developer_FAQ.html">Developer FAQ</a>
    </li>
    <li>
      <a href="../articles/editing_website.html">Editing the Mizer Website</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://blog.mizer.sizespectrum.org">Blog</a>
</li>
<li>
  <a href="https://twitter.com/mizer_model">
    <span class="fab fa-twitter fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/sizespectrum/mizer/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Set fishing parameters</h1>
    <small class="dont-index">Source: <a href='https://github.com/sizespectrum/mizer/blob/master/R/setFishing.R'><code>R/setFishing.R</code></a></small>
    <div class="hidden name"><code>setFishing.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Set fishing parameters</p>
    </div>

    <pre class="usage"><span class='fu'>setFishing</span><span class='op'>(</span>
  <span class='va'>params</span>,
  selectivity <span class='op'>=</span> <span class='cn'>NULL</span>,
  catchability <span class='op'>=</span> <span class='cn'>NULL</span>,
  comment_selectivity <span class='op'>=</span> <span class='st'>"set manually"</span>,
  comment_catchability <span class='op'>=</span> <span class='st'>"set manually"</span>,
  initial_effort <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='fu'>getCatchability</span><span class='op'>(</span><span class='va'>params</span><span class='op'>)</span>

<span class='fu'>getSelectivity</span><span class='op'>(</span><span class='va'>params</span><span class='op'>)</span>

<span class='fu'>getInitialEffort</span><span class='op'>(</span><span class='va'>params</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>params</th>
      <td><p>A MizerParams object</p></td>
    </tr>
    <tr>
      <th>selectivity</th>
      <td><p>Optional. An array (gear x species x size) that holds the
selectivity of each gear for species and size, \(S_{g,i,w}\).</p></td>
    </tr>
    <tr>
      <th>catchability</th>
      <td><p>Optional. An array (gear x species) that holds the catchability of
each species by each gear, \(Q_{g,i}\).</p></td>
    </tr>
    <tr>
      <th>comment_selectivity</th>
      <td><p><a href='https://lifecycle.r-lib.org/articles/stages.html#experimental'><img src='figures/lifecycle-experimental.svg' alt='[Experimental]' /></a>
A string describing how the value for 'selectivity' was obtained. This is
ignored if 'selectivity' is not supplied or already has a comment
attribute.</p></td>
    </tr>
    <tr>
      <th>comment_catchability</th>
      <td><p><a href='https://lifecycle.r-lib.org/articles/stages.html#experimental'><img src='figures/lifecycle-experimental.svg' alt='[Experimental]' /></a>
A string describing how the value for 'catchability' was obtained. This is
ignored if 'catchability' is not supplied or already has a comment
attribute.</p></td>
    </tr>
    <tr>
      <th>initial_effort</th>
      <td><p>Optional. A number or a named numeric vector specifying
the fishing effort. If a number, the same effort is used for all gears. If
a vector, must be named by gear.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Unused</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>MizerParams object with updated catchability and selectivity. Because
of the way the R language works, <code>setFishing()</code> does not make the changes
to the params object that you pass to it but instead returns a new params
object. So to affect the change you call the function in the form
<code>params &lt;- setFishing(params, ...)</code>.</p>
<p>For <code>getCatchability()</code>: An array (gear x species) that holds the catchability of
each species by each gear, \(Q_{g,i}\).
The names of the dimensions are "gear, "sp".</p>
<p>For <code>getSelectivity()</code>: An array (gear x species x size) that holds
the selectivity of each gear for species and size, \(S_{g,i,w}\).
The names of the dimensions are "gear, "sp", "w".</p>
<p>For <code>getInitialEffort()</code>: A named vector with the initial fishing
effort for each gear.</p>
    <h2 class="hasAnchor" id="setting-fishing"><a class="anchor" href="#setting-fishing"></a>Setting fishing</h2>

    


<p><strong>Gears</strong></p>
<p>In <code>mizer</code>, fishing mortality is imposed on species by fishing gears. The
total per-capita fishing mortality (1/year) is obtained by summing over the
mortality from all gears,
$$\mu_{f.i}(w) = \sum_g F_{g,i}(w),$$
where the fishing mortality \(F_{g,i}(w)\) imposed by gear \(g\) on
species \(i\) at size \(w\) is calculated as:
$$F_{g,i}(w) = S_{g,i}(w) Q_{g,i} E_{g},$$
where \(S\) is the selectivity by species, gear and size, \(Q\) is the
catchability by species and gear and \(E\) is the fishing effort by gear.</p>
<p><strong>Selectivity</strong></p>
<p>The selectivity at size of each gear for each species is saved as a three
dimensional array (gear x species x size). Each entry has a range between 0
(that gear is not selecting that species at that size) to 1 (that gear is
selecting all individuals of that species of that size). This three
dimensional array can be specified explicitly via the <code>selectivity</code>
argument, but usually mizer calculates it from the <code>gear_params</code> slot of
the MizerParams object.</p>
<p>To allow the calculation of the <code>selectivity</code> array, the <code>gear_params</code> slot
must be a data frame with one row for each gear-species combination. So if
for example a gear can select three species, then that gear contributes three
rows to the <code>gear_params</code> data frame, one for each species it can select. The
data frame must have columns <code>gear</code>, holding the name of the gear, <code>species</code>,
holding the name of the species, and <code>sel_func</code>, holding the name of the
function that calculates the selectivity curve. Some selectivity functions
are included in the package: <code><a href='knife_edge.html'>knife_edge()</a></code>, <code><a href='sigmoid_length.html'>sigmoid_length()</a></code>,
<code><a href='double_sigmoid_length.html'>double_sigmoid_length()</a></code>, and <code><a href='sigmoid_weight.html'>sigmoid_weight()</a></code>.
Users are able to write their own size-based selectivity function. The first
argument to the function must be <code>w</code> and the function must return a vector of
the selectivity (between 0 and 1) at size.</p>
<p>Each selectivity function may have parameters. Values for these
parameters must be included as columns in the gear parameters data.frame.
The names of the columns must exactly match the names of the corresponding
arguments of the selectivity function. For example, the default selectivity
function is <code><a href='knife_edge.html'>knife_edge()</a></code> that a has sudden change of selectivity from 0 to 1
at a certain size. In its help page you can see that the <code><a href='knife_edge.html'>knife_edge()</a></code>
function has arguments <code>w</code> and <code>knife_edge_size</code>. The first argument, <code>w</code>, is
size (the function calculates selectivity at size). All selectivity functions
must have <code>w</code> as the first argument. The values for the other arguments must
be found in the gear parameters data.frame. So for the <code><a href='knife_edge.html'>knife_edge()</a></code>
function there should be a <code>knife_edge_size</code> column. Because <code><a href='knife_edge.html'>knife_edge()</a></code>
is the default selectivity function, the <code>knife_edge_size</code> argument has a
default value = <code>w_mat</code>.</p>
<p>In case each species is only selected by one gear, the columns of the
<code>gear_params</code> data frame can alternatively be provided as columns of the
<code>species_params</code> data frame, if this is more convenient for the user to set
up. Mizer will then copy these columns over to create the <code>gear_params</code> data
frame when it creates the MizerParams object. However changing these columns
in the species parameter data frame later will not update the <code>gear_params</code>
data frame.</p>
<p><strong>Catchability</strong></p>
<p>Catchability is used as an additional factor to make the link between gear
selectivity, fishing effort and fishing mortality. For example, it can be set
so that an effort of 1 gives a desired fishing mortality. In this way effort
can then be specified relative to a 'base effort', e.g. the effort in a
particular year.</p>
<p>Catchability is stored as a two dimensional array (gear x species). This can
either be provided explicitly via the <code>catchability</code> argument, or the
information can be provided via a <code>catchability</code> column in the <code>gear_params</code>
data frame.</p>
<p>In the case where each species is selected by only a single gear, the
<code>catchability</code> column can also be provided in the <code>species_params</code> data
frame. Mizer will then copy this over to the <code>gear_params</code> data frame when
the MizerParams object is created.</p>
<p><strong>Effort</strong></p>
<p>The initial fishing effort is stored in the <code>MizerParams</code> object. If it is
not supplied, it is set to zero. The initial effort can be overruled when
the simulation is run with <code><a href='project.html'>project()</a></code>, where it is also possible to specify
an effort that varies through time.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='gear_params.html'>gear_params()</a></code></p>
<p>Other functions for setting parameters: 
<code><a href='gear_params.html'>gear_params</a>()</code>,
<code><a href='resource_params.html'>resource_params</a>()</code>,
<code><a href='setExtMort.html'>setExtMort</a>()</code>,
<code><a href='setInitialValues.html'>setInitialValues</a>()</code>,
<code><a href='setInteraction.html'>setInteraction</a>()</code>,
<code><a href='setMaxIntakeRate.html'>setMaxIntakeRate</a>()</code>,
<code><a href='setMetabolicRate.html'>setMetabolicRate</a>()</code>,
<code><a href='setParams.html'>setParams</a>()</code>,
<code><a href='setPredKernel.html'>setPredKernel</a>()</code>,
<code><a href='setReproduction.html'>setReproduction</a>()</code>,
<code><a href='setResource.html'>setResource</a>()</code>,
<code><a href='setSearchVolume.html'>setSearchVolume</a>()</code>,
<code><a href='species_params.html'>species_params</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='op'>(</span><span class='fu'>getCatchability</span><span class='op'>(</span><span class='va'>NS_params</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;  num [1:4, 1:12] 1 0 0 0 1 0 0 0 1 0 ...
#&gt;  - attr(*, "dimnames")=List of 2
#&gt;   ..$ gear: chr [1:4] "Industrial" "Pelagic" "Beam" "Otter"
#&gt;   ..$ sp  : chr [1:12] "Sprat" "Sandeel" "N.pout" "Herring" ...</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='op'>(</span><span class='fu'>getSelectivity</span><span class='op'>(</span><span class='va'>NS_params</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;  num [1:4, 1:12, 1:100] 0 0 0 0 0 0 0 0 0 0 ...
#&gt;  - attr(*, "dimnames")=List of 3
#&gt;   ..$ gear: chr [1:4] "Industrial" "Pelagic" "Beam" "Otter"
#&gt;   ..$ sp  : chr [1:12] "Sprat" "Sandeel" "N.pout" "Herring" ...
#&gt;   ..$ w   : chr [1:100] "0.001" "0.00119" "0.00142" "0.0017" ...</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='op'>(</span><span class='fu'>getInitialEffort</span><span class='op'>(</span><span class='va'>NS_params</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;  Named num [1:4] 0 1 0.5 0.5
#&gt;  - attr(*, "names")= chr [1:4] "Industrial" "Pelagic" "Beam" "Otter"</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://www.york.ac.uk/maths/staff/gustav-delius/'>Gustav Delius</a>, Finlay Scott, <a href='http://www.utas.edu.au/profiles/staff/imas/julia-blanchard'>Julia Blanchard</a>, <a href='https://ken.haste.dk/'>Ken Andersen</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '96e9641255d3fff35a4fd16d1a1bf70c',
    indexName: 'sizespectrum_mizer',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


