<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Set up parameters for a trait-based model — newTraitParams • mizer</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Set up parameters for a trait-based model — newTraitParams" />
<meta property="og:description" content="This functions creates a MizerParams object describing a trait-based
model. This is a simplification of the general size-based model used in
mizer in which the species-specific parameters are the same for all
species, except for the asymptotic size, which is considered the most
important trait characterizing a species. Other parameters are related to the
asymptotic size. For example, the size at maturity is given by w_inf *
eta, where eta is the same for all species. For the trait-based model
the number of species is not important. For applications of the trait-based
model see Andersen &amp;amp; Pedersen (2010). See the mizer website for more
details and examples of the trait-based model." />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mizer</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">2.0.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/mizer.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/model_description.html">The General Mizer Size-spectrum Model</a>
    </li>
    <li>
      <a href="../articles/community_model.html">The Community Model</a>
    </li>
    <li>
      <a href="../articles/trait_model.html">The Trait-Based Model</a>
    </li>
    <li>
      <a href="../articles/multispecies_model.html">The Multi Species Model</a>
    </li>
    <li>
      <a href="../articles/running_a_simulation.html">Running a Simulation</a>
    </li>
    <li>
      <a href="../articles/exploring_the_simulation_results.html">Exploring the Simulation Results</a>
    </li>
    <li>
      <a href="../articles/a_multispecies_model_of_the_north_sea.html">A Multi-Species Model Of The North Sea</a>
    </li>
    <li>
      <a href="../articles/plotting.html">Using ggplot2 and plotly with mizer</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">For developers</li>
    <li>
      <a href="../articles/developer_vignette.html">Developer Guide</a>
    </li>
    <li>
      <a href="../articles/working_with_git.html">Working with git and GitHub</a>
    </li>
    <li>
      <a href="../articles/developer_FAQ.html">Developer FAQ</a>
    </li>
    <li>
      <a href="../articles/editing_website.html">Editing the Mizer Website</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/publications.html">Publications</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/sizespectrum/mizer/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Set up parameters for a trait-based model</h1>
    <small class="dont-index">Source: <a href='https://github.com/sizespectrum/mizer/blob/master/R/wrapper_functions.R'><code>R/wrapper_functions.R</code></a></small>
    <div class="hidden name"><code>newTraitParams.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This functions creates a <code>MizerParams</code> object describing a trait-based
model. This is a simplification of the general size-based model used in
<code>mizer</code> in which the species-specific parameters are the same for all
species, except for the asymptotic size, which is considered the most
important trait characterizing a species. Other parameters are related to the
asymptotic size. For example, the size at maturity is given by <code>w_inf *
eta</code>, where <code>eta</code> is the same for all species. For the trait-based model
the number of species is not important. For applications of the trait-based
model see Andersen &amp; Pedersen (2010). See the <code>mizer</code> website for more
details and examples of the trait-based model.</p>
    </div>

    <pre class="usage"><span class='fu'>newTraitParams</span>(
  <span class='kw'>no_sp</span> <span class='kw'>=</span> <span class='fl'>11</span>,
  <span class='kw'>min_w_inf</span> <span class='kw'>=</span> <span class='fl'>10</span>,
  <span class='kw'>max_w_inf</span> <span class='kw'>=</span> <span class='fl'>10</span>^<span class='fl'>4</span>,
  <span class='kw'>min_w</span> <span class='kw'>=</span> <span class='fl'>10</span>^(-<span class='fl'>3</span>),
  <span class='kw'>max_w</span> <span class='kw'>=</span> <span class='no'>max_w_inf</span>,
  <span class='kw'>eta</span> <span class='kw'>=</span> <span class='fl'>10</span>^(-<span class='fl'>0.6</span>),
  <span class='kw'>min_w_mat</span> <span class='kw'>=</span> <span class='no'>min_w_inf</span> * <span class='no'>eta</span>,
  <span class='kw'>no_w</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log10</a></span>(<span class='no'>max_w_inf</span>/<span class='no'>min_w</span>) * <span class='fl'>20</span> + <span class='fl'>1</span>,
  <span class='kw'>min_w_pp</span> <span class='kw'>=</span> <span class='fl'>1e-10</span>,
  <span class='kw'>w_pp_cutoff</span> <span class='kw'>=</span> <span class='no'>min_w_mat</span>,
  <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>2</span>/<span class='fl'>3</span>,
  <span class='kw'>p</span> <span class='kw'>=</span> <span class='no'>n</span>,
  <span class='kw'>lambda</span> <span class='kw'>=</span> <span class='fl'>2.05</span>,
  <span class='kw'>r_pp</span> <span class='kw'>=</span> <span class='fl'>0.1</span>,
  <span class='kw'>kappa</span> <span class='kw'>=</span> <span class='fl'>0.005</span>,
  <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.4</span>,
  <span class='kw'>h</span> <span class='kw'>=</span> <span class='fl'>40</span>,
  <span class='kw'>beta</span> <span class='kw'>=</span> <span class='fl'>100</span>,
  <span class='kw'>sigma</span> <span class='kw'>=</span> <span class='fl'>1.3</span>,
  <span class='kw'>f0</span> <span class='kw'>=</span> <span class='fl'>0.6</span>,
  <span class='kw'>fc</span> <span class='kw'>=</span> <span class='fl'>0.25</span>,
  <span class='kw'>ks</span> <span class='kw'>=</span> <span class='fl'>NA</span>,
  <span class='kw'>gamma</span> <span class='kw'>=</span> <span class='fl'>NA</span>,
  <span class='kw'>ext_mort_prop</span> <span class='kw'>=</span> <span class='fl'>0</span>,
  <span class='kw'>R_factor</span> <span class='kw'>=</span> <span class='fl'>4</span>,
  <span class='kw'>gear_names</span> <span class='kw'>=</span> <span class='st'>"knife_edge_gear"</span>,
  <span class='kw'>knife_edge_size</span> <span class='kw'>=</span> <span class='fl'>1000</span>,
  <span class='kw'>egg_size_scaling</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>resource_scaling</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>perfect_scaling</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>no_sp</th>
      <td><p>The number of species in the model.</p></td>
    </tr>
    <tr>
      <th>min_w_inf</th>
      <td><p>The asymptotic size of the smallest species in the
community. This will be rounded to lie on a grid point.</p></td>
    </tr>
    <tr>
      <th>max_w_inf</th>
      <td><p>The asymptotic size of the largest species in the community.
This will be rounded to lie on a grid point.</p></td>
    </tr>
    <tr>
      <th>min_w</th>
      <td><p>The size of the the egg of the smallest species. This also
defines the start of the community size spectrum.</p></td>
    </tr>
    <tr>
      <th>max_w</th>
      <td><p>The largest size in the model. By default this is set to the
largest asymptotic size <code>max_w_inf</code>. Setting it to something larger
only makes sense if you plan to add larger species to the model later.</p></td>
    </tr>
    <tr>
      <th>eta</th>
      <td><p>Ratio between maturity size and asymptotic size of a species.
Ignored if <code>min_w_mat</code> is supplied. Default is 10^(-0.6),
approximately 1/4.</p></td>
    </tr>
    <tr>
      <th>min_w_mat</th>
      <td><p>The maturity size of the smallest species. Default value is
<code>eta * min_w_inf</code>. This will be rounded to lie on a grid point.</p></td>
    </tr>
    <tr>
      <th>no_w</th>
      <td><p>The number of size bins in the community spectrum. These bins
will be equally spaced on a logarithmic scale. Default value is such that
there are 50 bins for each factor of 10 in weight.</p></td>
    </tr>
    <tr>
      <th>min_w_pp</th>
      <td><p>The smallest size of the resource spectrum. By default this
is set to the smallest value at which any of the consumers can feed.</p></td>
    </tr>
    <tr>
      <th>w_pp_cutoff</th>
      <td><p>The largest size of the resource spectrum. Default value
is max_w_inf unless <code>perfect_scaling = TRUE</code> when it is Inf.</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p>Scaling exponent of the maximum intake rate.</p></td>
    </tr>
    <tr>
      <th>p</th>
      <td><p>Scaling exponent of the standard metabolic rate. By default this is
equal to the exponent <code>n</code>.</p></td>
    </tr>
    <tr>
      <th>lambda</th>
      <td><p>Exponent of the abundance power law.</p></td>
    </tr>
    <tr>
      <th>r_pp</th>
      <td><p>Growth rate parameter for the resource spectrum.</p></td>
    </tr>
    <tr>
      <th>kappa</th>
      <td><p>Coefficient in abundance power law.</p></td>
    </tr>
    <tr>
      <th>alpha</th>
      <td><p>The assimilation efficiency of the community.</p></td>
    </tr>
    <tr>
      <th>h</th>
      <td><p>Maximum food intake rate.</p></td>
    </tr>
    <tr>
      <th>beta</th>
      <td><p>Preferred predator prey mass ratio.</p></td>
    </tr>
    <tr>
      <th>sigma</th>
      <td><p>Width of prey size preference.</p></td>
    </tr>
    <tr>
      <th>f0</th>
      <td><p>Expected average feeding level. Used to set <code>gamma</code>, the
coefficient in the search rate. Ignored if <code>gamma</code> is given
explicitly.</p></td>
    </tr>
    <tr>
      <th>fc</th>
      <td><p>Critical feeding level. Used to determine <code>ks</code> if it is not given
explicitly.</p></td>
    </tr>
    <tr>
      <th>ks</th>
      <td><p>Standard metabolism coefficient. If not provided, default will be
calculated from critical feeding level argument <code>fc</code>.</p></td>
    </tr>
    <tr>
      <th>gamma</th>
      <td><p>Volumetric search rate. If not provided, default is determined
by <code><a href='get_gamma_default.html'>get_gamma_default()</a></code> using the value of <code>f0</code>.</p></td>
    </tr>
    <tr>
      <th>ext_mort_prop</th>
      <td><p>The proportion of the total mortality that comes from
external mortality, i.e., from sources not explicitly modelled. A number in
the interval [0, 1).</p></td>
    </tr>
    <tr>
      <th>R_factor</th>
      <td><p>The factor such that <code>R_max = R_factor * R</code>, where <code>R_max</code>
is the maximum reproduction rate allowed and <code>R</code> is the steady-state
reproduction rate. Thus the larger <code>R_factor</code> the less the impact of the
density-dependence.</p></td>
    </tr>
    <tr>
      <th>gear_names</th>
      <td><p>The names of the fishing gears for each species. A
character vector, the same length as the number of species.</p></td>
    </tr>
    <tr>
      <th>knife_edge_size</th>
      <td><p>The minimum size at which the gear or gears select
fish. A single value for each gear or a vector with one value for each
gear.</p></td>
    </tr>
    <tr>
      <th>egg_size_scaling</th>
      <td><p>If TRUE, the egg size is a constant fraction of the
maximum size of each species. This fraction is <code>min_w / min_w_inf</code>. If
FALSE, all species have the egg size <code>w_min</code>.</p></td>
    </tr>
    <tr>
      <th>resource_scaling</th>
      <td><p>If TRUE, the carrying capacity for larger resource
is reduced to compensate for the fact that fish eggs and larvae are
present in the same size range.</p></td>
    </tr>
    <tr>
      <th>perfect_scaling</th>
      <td><p>If TRUE then parameters are set so that the community
abundance, growth before reproduction and death are perfect power laws. In
particular all other scaling corrections are turned on.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of type <code>MizerParams</code></p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function has many arguments, all of which have default values. Of
particular interest to the user are the number of species in the model and
the minimum and maximum asymptotic sizes.</p>
<p>The characteristic weights of the smallest species are defined by
<code>min_w</code> (egg size), <code>min_w_mat</code> (maturity size) and
<code>min_w_inf</code> (asymptotic size). The asymptotic sizes of
the <code>no_sp</code> species
are logarithmically evenly spaced, ranging from <code>min_w_inf</code> to
<code>max_w_inf</code>.
Similarly the maturity sizes of the species are logarithmically evenly
spaced, so that the ratio <code>eta</code> between maturity size and asymptotic
size is the same for all species. If <code>egg_size_scaling = TRUE</code> then also
the ratio between asymptotic size and egg size is the same for all species.
Otherwise all species have the same egg size.</p>
<p>In addition to setting up the parameters, this function also sets up an
initial condition that is close to steady state.</p>
<p>Although the trait based model's steady state is often stable without
imposing additional density-dependence, the function can set a Beverton-Holt
type density-dependence that imposes a maximum for the reproduction rate that
is a multiple of the reproduction rate at steady state. That multiple is set
by the argument <code>R_factor</code>.</p>
<p>The search rate coefficient <code>gamma</code> is calculated using the expected
feeding level, <code>f0</code>.</p>
<p>The option of including fishing is given, but the steady state may lose its
natural stability if too much fishing is included. In such a case the user
may wish to include stabilising effects (like <code>R_factor</code>) to ensure the
steady state is stable. Fishing selectivity is modelled as a knife-edge
function with one parameter, <code>knife_edge_size</code>, which is the size at
which species are selected. Each species can either be fished by the same
gear (<code>knife_edge_size</code> has a length of 1) or by a different gear (the
length of <code>knife_edge_size</code> has the same length as the number of species
and the order of selectivity size is that of the asymptotic size).</p>
<p>The resulting <code>MizerParams</code> object can be projected forward using
<code><a href='project.html'>project()</a></code> like any other <code>MizerParams</code> object. When projecting
the model it may be necessary to reduce <code>dt</code> below 0.1 to avoid any
instabilities with the solver. You can check this by plotting the biomass or
abundance through time after the projection.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other functions for setting up models: 
<code><a href='newCommunityParams.html'>newCommunityParams</a>()</code>,
<code><a href='newMultispeciesParams.html'>newMultispeciesParams</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='no'>params</span> <span class='kw'>&lt;-</span> <span class='fu'>newTraitParams</span>()
<span class='no'>sim</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='project.html'>project</a></span>(<span class='no'>params</span>, <span class='kw'>t_max</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>effort</span> <span class='kw'>=</span> <span class='fl'>0</span>)
<span class='fu'><a href='plotSpectra.html'>plotSpectra</a></span>(<span class='no'>sim</span>)
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://www.york.ac.uk/maths/staff/gustav-delius/'>Gustav Delius</a>, Finlay Scott, <a href='http://www.utas.edu.au/profiles/staff/imas/julia-blanchard'>Julia Blanchard</a>, <a href='https://ken.haste.dk/'>Ken Andersen</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


