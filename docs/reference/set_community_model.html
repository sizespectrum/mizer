<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Deprecated function for setting up parameters for a community-type model — set_community_model • mizer</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.1/jquery-3.6.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Deprecated function for setting up parameters for a community-type model — set_community_model"><meta name="description" content="
This function has been deprecated in favour of the function
newCommunityParams() that sets better default values."><meta property="og:description" content="
This function has been deprecated in favour of the function
newCommunityParams() that sets better default values."><meta property="og:image" content="https://sizespectrum.org/mizer/reference/figures/logo.png"><meta property="og:image:alt" content="mizer: Multi-Species Size Spectrum Modelling in R"><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@mizer_model"><meta name="twitter:site" content="@mizer_model"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mizer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">2.5.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/mizer.html">Get started</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mizer.course.sizespectrum.org">Course</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/model_description.html">The General Mizer Size-spectrum Model</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Tutorials</h6></li>
    <li><a class="dropdown-item" href="../articles/single_species_size-spectrum_dynamics.html">Single-species size-spectrum dynamics</a></li>
    <li><a class="dropdown-item" href="../articles/community_model.html">The Community Model</a></li>
    <li><a class="dropdown-item" href="../articles/trait_model.html">The Trait-Based Model</a></li>
    <li><a class="dropdown-item" href="../articles/multispecies_model.html">The Multi Species Model</a></li>
    <li><a class="dropdown-item" href="../articles/running_a_simulation.html">Running a Simulation</a></li>
    <li><a class="dropdown-item" href="../articles/exploring_the_simulation_results.html">Exploring the Simulation Results</a></li>
    <li><a class="dropdown-item" href="../articles/a_multispecies_model_of_the_north_sea.html">A Multi-Species Model of the North Sea</a></li>
    <li><a class="dropdown-item" href="../articles/plotting.html">Using ggplot2 and plotly with mizer</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Publications</h6></li>
    <li><a class="dropdown-item" href="../articles/publications.html">Publications</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>For developers</h6></li>
    <li><a class="dropdown-item" href="../articles/developer_vignette.html">Developer Guide</a></li>
    <li><a class="dropdown-item" href="../articles/working_with_git.html">Working with git and GitHub</a></li>
    <li><a class="dropdown-item" href="../articles/developer_FAQ.html">Developer FAQ</a></li>
    <li><a class="dropdown-item" href="../articles/editing_website.html">Editing the Mizer Website</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://blog.mizer.sizespectrum.org">Blog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://twitter.com/mizer_model" aria-label="Twitter"><span class="fa fab fa-twitter fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sizespectrum/mizer/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Deprecated function for setting up parameters for a community-type model</h1>
      <small class="dont-index">Source: <a href="https://github.com/sizespectrum/mizer/blob/HEAD/R/deprecated.R" class="external-link"><code>R/deprecated.R</code></a></small>
      <div class="d-none name"><code>set_community_model.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated" class="external-link"><img src="figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a></p>
<p>This function has been deprecated in favour of the function
<code><a href="newCommunityParams.html">newCommunityParams()</a></code> that sets better default values.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">set_community_model</span><span class="op">(</span></span>
<span>  max_w <span class="op">=</span> <span class="fl">1e+06</span>,</span>
<span>  min_w <span class="op">=</span> <span class="fl">0.001</span>,</span>
<span>  min_w_pp <span class="op">=</span> <span class="fl">1e-10</span>,</span>
<span>  z0 <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>  h <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  beta <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  sigma <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  q <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">2</span><span class="op">/</span><span class="fl">3</span>,</span>
<span>  kappa <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  lambda <span class="op">=</span> <span class="fl">2</span> <span class="op">+</span> <span class="va">q</span> <span class="op">-</span> <span class="va">n</span>,</span>
<span>  f0 <span class="op">=</span> <span class="fl">0.7</span>,</span>
<span>  r_pp <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  gamma <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  knife_edge_size <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  knife_is_min <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  recruitment <span class="op">=</span> <span class="va">kappa</span> <span class="op">*</span> <span class="va">min_w</span><span class="op">^</span><span class="op">-</span><span class="va">lambda</span>,</span>
<span>  rec_mult <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-max-w">max_w<a class="anchor" aria-label="anchor" href="#arg-max-w"></a></dt>
<dd><p>The maximum size of the community. The <code>w_inf</code> of the
species used to represent the community is set to this value. The
default value is 1e6.</p></dd>


<dt id="arg-min-w">min_w<a class="anchor" aria-label="anchor" href="#arg-min-w"></a></dt>
<dd><p>The minimum size of the community. Default value is 1e-3.</p></dd>


<dt id="arg-min-w-pp">min_w_pp<a class="anchor" aria-label="anchor" href="#arg-min-w-pp"></a></dt>
<dd><p>The smallest size of the resource spectrum.</p></dd>


<dt id="arg-z-">z0<a class="anchor" aria-label="anchor" href="#arg-z-"></a></dt>
<dd><p>The background mortality of the community. Default value is 0.1.</p></dd>


<dt id="arg-alpha">alpha<a class="anchor" aria-label="anchor" href="#arg-alpha"></a></dt>
<dd><p>The assimilation efficiency of the community. Default value 0.2</p></dd>


<dt id="arg-h">h<a class="anchor" aria-label="anchor" href="#arg-h"></a></dt>
<dd><p>The maximum food intake rate. Default value is 10.</p></dd>


<dt id="arg-beta">beta<a class="anchor" aria-label="anchor" href="#arg-beta"></a></dt>
<dd><p>The preferred predator prey mass ratio. Default value is 100.</p></dd>


<dt id="arg-sigma">sigma<a class="anchor" aria-label="anchor" href="#arg-sigma"></a></dt>
<dd><p>The width of the prey preference. Default value is 2.0.</p></dd>


<dt id="arg-q">q<a class="anchor" aria-label="anchor" href="#arg-q"></a></dt>
<dd><p>The search volume exponent. Default value is 0.8.</p></dd>


<dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>The scaling of the intake. Default value is 2/3.</p></dd>


<dt id="arg-kappa">kappa<a class="anchor" aria-label="anchor" href="#arg-kappa"></a></dt>
<dd><p>The carrying capacity of the resource spectrum. Default value
is 1000.</p></dd>


<dt id="arg-lambda">lambda<a class="anchor" aria-label="anchor" href="#arg-lambda"></a></dt>
<dd><p>The exponent of the resource spectrum. Default value is 2 + q - n.</p></dd>


<dt id="arg-f-">f0<a class="anchor" aria-label="anchor" href="#arg-f-"></a></dt>
<dd><p>The average feeding level of individuals who feed on a power-law
spectrum. This value is used to calculate the search rate parameter
<code>gamma</code> (see the package vignette). Default value is 0.7.</p></dd>


<dt id="arg-r-pp">r_pp<a class="anchor" aria-label="anchor" href="#arg-r-pp"></a></dt>
<dd><p>Growth rate parameter for the resource spectrum. Default value is 10.</p></dd>


<dt id="arg-gamma">gamma<a class="anchor" aria-label="anchor" href="#arg-gamma"></a></dt>
<dd><p>Volumetric search rate. Estimated using <code>h</code>, <code>f0</code> and
<code>kappa</code> if not supplied.</p></dd>


<dt id="arg-knife-edge-size">knife_edge_size<a class="anchor" aria-label="anchor" href="#arg-knife-edge-size"></a></dt>
<dd><p>The size at the edge of the knife-selectivity
function. Default value is 1000.</p></dd>


<dt id="arg-knife-is-min">knife_is_min<a class="anchor" aria-label="anchor" href="#arg-knife-is-min"></a></dt>
<dd><p>Is the knife-edge selectivity function selecting above
(TRUE) or below (FALSE) the edge. Default is TRUE.</p></dd>


<dt id="arg-recruitment">recruitment<a class="anchor" aria-label="anchor" href="#arg-recruitment"></a></dt>
<dd><p>The constant recruitment in the smallest size class of the
community spectrum. This should be set so that the community spectrum
continues the resource spectrum. Default value = <code>kappa</code> *
<code>min_w</code>^-<code>lambda</code>.</p></dd>


<dt id="arg-rec-mult">rec_mult<a class="anchor" aria-label="anchor" href="#arg-rec-mult"></a></dt>
<dd><p>Additional multiplier for the constant recruitment. Default
value is 1.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Other arguments to pass to the <code>MizerParams</code> constructor.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of type <code><a href="MizerParams-class.html">MizerParams</a></code></p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This functions creates a <code><a href="MizerParams-class.html">MizerParams</a></code> object so that
community-type models can be easily set up and run. A community model has
several features that distinguish it from the food-web type models. Only one
'species' is resolved, i.e. one 'species' is used to represent the whole
community. The resource spectrum only extends to the start of the community
spectrum. Recruitment to the smallest size in the community spectrum is
constant and set by the user. As recruitment is constant, the proportion of
energy invested in reproduction (the slot <code>psi</code> of the returned
<code>MizerParams</code> object) is set to 0. Standard metabolism has been turned
off (the parameter <code>ks</code> is set to 0). Consequently, the growth rate is
now determined solely by the assimilated food (see the package vignette for
more details).</p>
<p>The function has many arguments, all of which have default values. The main
arguments that the users should be concerned with are <code>z0</code>,
<code>recruitment</code>, <code>alpha</code> and <code>f0</code> as these determine the average
growth rate of the community.</p>
<p>Fishing selectivity is modelled as a knife-edge function with one parameter,
<code>knife_edge_size</code>, which determines the size at which species are
selected.</p>
<p>The resulting <code>MizerParams</code> object can be projected forward using
<code><a href="project.html">project()</a></code> like any other <code>MizerParams</code> object. When projecting
the community model it may be necessary to keep a small time step size
<code>dt</code> of around 0.1 to avoid any instabilities with the solver. You can
check for these numerical instabilities by plotting the biomass or abundance
through time after the projection.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>K. H. Andersen,J. E. Beyer and P. Lundberg, 2009, Trophic and
individual efficiencies of size-structured communities, Proceedings of the
Royal Society, 276, 109-114</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="va">params</span> <span class="op">&lt;-</span> <span class="fu">set_community_model</span><span class="op">(</span>f0<span class="op">=</span><span class="fl">0.7</span>, z0<span class="op">=</span><span class="fl">0.2</span>, recruitment<span class="op">=</span><span class="fl">3e7</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>`set_community_model()` was deprecated in mizer 2.0.0.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Please use `newCommunityParams()` instead.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Note: No m column in species data frame so using m = 1.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>For the species Community the value for `w_mat` is not smaller than that of `w_max`. I have corrected that by setting it to 25% of `w_max.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>For the species Community the value for `w_mat` is not smaller than that of `w_max`. I have corrected that by setting it to 25% of `w_max.</span>
<span class="r-in"><span><span class="co"># This is now achieved with</span></span></span>
<span class="r-in"><span><span class="va">params</span> <span class="op">&lt;-</span> <span class="fu"><a href="newCommunityParams.html">newCommunityParams</a></span><span class="op">(</span>f0 <span class="op">=</span> <span class="fl">0.7</span>, z0 <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="project.html">project</a></span><span class="op">(</span><span class="va">params</span>, effort <span class="op">=</span> <span class="fl">0</span>, t_max <span class="op">=</span> <span class="fl">100</span>, dt<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plotBiomass.html">plotBiomass</a></span><span class="op">(</span><span class="va">sim</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="set_community_model-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="plotSpectra.html">plotSpectra</a></span><span class="op">(</span><span class="va">sim</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="set_community_model-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.york.ac.uk/maths/staff/gustav-delius/" class="external-link">Gustav Delius</a>, Finlay Scott, <a href="http://www.utas.edu.au/profiles/staff/imas/julia-blanchard" class="external-link">Julia Blanchard</a>, <a href="https://ken.haste.dk/" class="external-link">Ken Andersen</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

